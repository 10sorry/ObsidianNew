
# –ü–∞—Ç—Ç–µ—Ä–Ω—ã

–î–∞—Ç–∞: [[2025-07-23]]
–¢–µ–≥–∏: #cpp
–°–≤—è–∑–∏: [[c++]] 

---
### 1) Singleton

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —É –∫–ª–∞—Å—Å–∞ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä
**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞**:
```cpp
class Singleton {
  private:
    Singleton();
    Singleton(const Singleton&) = delete;
    Singleton& operator=(const Singleton&) = delete;
    Singleton
  public:
    static Singleton& getInstance() {
      static Singleton instance;
      return instance;
    }
};

int main() {
  Singleton& s = Singleton::getInstance(); // –æ–±–µ–∑–∞—Ç–µ–ª—å–Ω–æ —Å—Å—ã–ª–∫–∞
  return 0;
}
```

### 2) Factory

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤, —á—Ç–æ–±—ã –∫–æ–¥, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –æ–±—ä–µ–∫—Ç—ã, –∑–∞–≤–∏—Å–µ–ª —Ç–æ–ª—å–∫–æ –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –∞ –Ω–µ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤.
**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞**:
```cpp
#include <iostream>  
#include <memory>  
  
class Product {  
  public:  
    Product() = default;  
    virtual ~Product() = default;  
    virtual void use(){};  
    virtual std::string getName() { return name;};  
  protected:  
    std::string name = "unknown";  
};  
  
class ProductA : public Product{  
  public:  
  void use() override {  
    std::cout << "Using ProductA" << std::endl;  
  }  std::string getName() override {return "a";};  
};  
  
class ProductB : public Product{  
  public:  
  void use() override {  
    std::cout << "Using ProductB" << std::endl;  
  }  std::string getName() override {return "b";};  
};  
  
class Creator {  
public:  
  Creator() = default;  
  virtual ~Creator() = default;  
  virtual std::unique_ptr<Product> factoryMethod(const std::string& str) {  
    if(str == "a") {return std::make_unique<ProductA>();};  
    return std::make_unique<ProductB>();  
  };  
 };  
  
int main(){  
  auto creatorA = std::make_unique<Creator>();  
  auto pA = creatorA->factoryMethod("a");  
  return 0;  
}
```

### 3) Observer

**–û–ø–∏—Å–∞–Ω–∏–µ**:
–≠—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω **"–∏–∑–¥–∞—Ç–µ–ª—å-–ø–æ–¥–ø–∏—Å—á–∏–∫"** (publisher-subscriber). –û–¥–∏–Ω –æ–±—ä–µ–∫—Ç (–∏–∑–¥–∞—Ç–µ–ª—å / subject) —É–≤–µ–¥–æ–º–ª—è–µ—Ç –≤—Å–µ—Ö –¥—Ä—É–≥–∏—Ö (–ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ / observers) –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–≤–æ–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.
**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞**:
```cpp
#include <iostream>
#include <vector>
#include <memory>

// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è
class Observer {
public:
    virtual void update(int data) = 0;
    virtual ~Observer() = default;
};

// –ò–∑–¥–∞—Ç–µ–ª—å
class Subject {
    std::vector<std::weak_ptr<Observer>> observers;

public:
    void attach(std::shared_ptr<Observer> obs) {
        observers.push_back(obs);
    }

    void notify(int data) {
        for (auto it = observers.begin(); it != observers.end(); ) {
            if (auto obs = it->lock()) {
                obs->update(data);
                ++it;
            } else {
                // –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å —É–∂–µ —É–¥–∞–ª—ë–Ω ‚Äî —á–∏—Å—Ç–∏–º —Å–ª–∞–±—É—é —Å—Å—ã–ª–∫—É
                it = observers.erase(it);
            }
        }
    }
};

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–æ–¥–ø–∏—Å—á–∏–∫
class ConcreteObserver : public Observer {
    std::string name;
public:
    ConcreteObserver(std::string n) : name(std::move(n)) {}

    void update(int data) override {
        std::cout << "üëÄ " << name << " received update: " << data << '\n';
    }
};

// === –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ===

int main() {
    Subject subject;

    auto observer1 = std::make_shared<ConcreteObserver>("Observer1");
    auto observer2 = std::make_shared<ConcreteObserver>("Observer2");

    subject.attach(observer1);
    subject.attach(observer2);

    subject.notify(42);  // –≤—Å–µ –∂–∏–≤—ã

    observer1.reset();   // —É–¥–∞–ª—è–µ–º –ø–µ—Ä–≤—ã–π –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å

    subject.notify(99);  // —Ç–æ–ª—å–∫–æ –≤—Ç–æ—Ä–æ–π –∂–∏–≤
}
```
