/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var na=Object.create;var vr=Object.defineProperty;var oa=Object.getOwnPropertyDescriptor;var ia=Object.getOwnPropertyNames;var sa=Object.getPrototypeOf,aa=Object.prototype.hasOwnProperty;var la=(e,t,r)=>t in e?vr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ni=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),fa=(e,t)=>{for(var r in t)vr(e,r,{get:t[r],enumerable:!0})},oi=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ia(t))!aa.call(e,o)&&o!==r&&vr(e,o,{get:()=>t[o],enumerable:!(n=oa(t,o))||n.enumerable});return e};var ca=(e,t,r)=>(r=e!=null?na(sa(e)):{},oi(t||!e||!e.__esModule?vr(r,"default",{value:e,enumerable:!0}):r,e)),ua=e=>oi(vr({},"__esModule",{value:!0}),e);var L=(e,t,r)=>(la(e,typeof t!="symbol"?t+"":t,r),r),jn=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var h=(e,t,r)=>(jn(e,t,"read from private field"),r?r.call(e):t.get(e)),U=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},B=(e,t,r,n)=>(jn(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var tt=(e,t,r)=>(jn(e,t,"access private method"),r);var Os=ni((gw,Ls)=>{"use strict";Ls.exports=Is;function Is(e,t,r){e instanceof RegExp&&(e=Ns(e,r)),t instanceof RegExp&&(t=Ns(t,r));var n=Rs(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function Ns(e,t){var r=t.match(e);return r?r[0]:null}Is.range=Rs;function Rs(e,t,r){var n,o,i,s,a,l=r.indexOf(e),f=r.indexOf(t,l+1),u=l;if(l>=0&&f>0){if(e===t)return[l,f];for(n=[],i=r.length;u>=0&&!a;)u==l?(n.push(u),l=r.indexOf(e,u+1)):n.length==1?a=[n.pop(),f]:(o=n.pop(),o<i&&(i=o,s=f),f=r.indexOf(t,u+1)),u=l<f&&l>=0?l:f;n.length&&(a=[i,s])}return a}});var Hs=ni((bw,qs)=>{var Ms=Os();qs.exports=El;var Ds="\0SLASH"+Math.random()+"\0",Ps="\0OPEN"+Math.random()+"\0",Qo="\0CLOSE"+Math.random()+"\0",Fs="\0COMMA"+Math.random()+"\0",Bs="\0PERIOD"+Math.random()+"\0";function Jo(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function yl(e){return e.split("\\\\").join(Ds).split("\\{").join(Ps).split("\\}").join(Qo).split("\\,").join(Fs).split("\\.").join(Bs)}function wl(e){return e.split(Ds).join("\\").split(Ps).join("{").split(Qo).join("}").split(Fs).join(",").split(Bs).join(".")}function Vs(e){if(!e)return[""];var t=[],r=Ms("{","}",e);if(!r)return e.split(",");var n=r.pre,o=r.body,i=r.post,s=n.split(",");s[s.length-1]+="{"+o+"}";var a=Vs(i);return i.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),t.push.apply(t,s),t}function El(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),Gr(yl(e),!0).map(wl)):[]}function $l(e){return"{"+e+"}"}function Sl(e){return/^-?0\d/.test(e)}function Tl(e,t){return e<=t}function Al(e,t){return e>=t}function Gr(e,t){var r=[],n=Ms("{","}",e);if(!n)return[e];var o=n.pre,i=n.post.length?Gr(n.post,!1):[""];if(/\$$/.test(n.pre))for(var s=0;s<i.length;s++){var a=o+"{"+n.body+"}"+i[s];r.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),f=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=l||f,p=n.body.indexOf(",")>=0;if(!u&&!p)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+Qo+n.post,Gr(e)):[e];var c;if(u)c=n.body.split(/\.\./);else if(c=Vs(n.body),c.length===1&&(c=Gr(c[0],!1).map($l),c.length===1))return i.map(function(j){return n.pre+c[0]+j});var d;if(u){var m=Jo(c[0]),_=Jo(c[1]),y=Math.max(c[0].length,c[1].length),w=c.length==3?Math.abs(Jo(c[2])):1,R=Tl,T=_<m;T&&(w*=-1,R=Al);var g=c.some(Sl);d=[];for(var x=m;R(x,_);x+=w){var b;if(f)b=String.fromCharCode(x),b==="\\"&&(b="");else if(b=String(x),g){var I=y-b.length;if(I>0){var S=new Array(I+1).join("0");x<0?b="-"+S+b.slice(1):b=S+b}}d.push(b)}}else{d=[];for(var A=0;A<c.length;A++)d.push.apply(d,Gr(c[A],!1))}for(var A=0;A<d.length;A++)for(var s=0;s<i.length;s++){var a=o+d[A]+i[s];(!t||u||a)&&r.push(a)}}return r}});var uf={};fa(uf,{default:()=>Un});module.exports=ua(uf);var ze=require("obsidian");function zn(e,t,r){var n;return e.type!="leaf"?((n=e.children)==null||n.forEach(o=>zn(o,t,r)),e):(e.state.type=="markdown"&&(e.state.state.file=t),r(e),e)}function Wn(e,t,r){var n;return e.type=="leaf"?(r.add(e.id),e.state.type=="markdown"&&(t.add(e.state.state.file),delete e.state.title,e.state.state={file:"",mode:e.state.state.mode,source:e.state.state.source})):(n=e.children)==null||n.forEach(o=>Wn(o,t,r)),e}var Cs=require("obsidian");var si,ai,ii=(ai=(si=globalThis.process)==null?void 0:si.env)==null?void 0:ai.NODE_ENV,v=ii&&!ii.toLowerCase().startsWith("prod");var We=Array.isArray,li=Array.prototype.indexOf,gr=Array.from,Gn=Object.keys,ne=Object.defineProperty,Pe=Object.getOwnPropertyDescriptor,en=Object.getOwnPropertyDescriptors,Kn=Object.prototype,fi=Array.prototype,Ot=Object.getPrototypeOf,Zn=Object.isExtensible;var _e=()=>{};function br(e){for(var t=0;t<e.length;t++)e[t]()}var he=Symbol("$state"),xr=Symbol("legacy props"),ci=Symbol("");function tn(e){return e===this.v}function zt(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Wt(e){return!zt(e,this.v)}function Xn(){if(v){let e=new Error("bind_invalid_checkbox_value\nUsing `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead\nhttps://svelte.dev/e/bind_invalid_checkbox_value");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/bind_invalid_checkbox_value")}function ui(){if(v){let e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/derived_references_self")}function pi(){if(v){let e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function di(){if(v){let e=new Error(`hydration_failed
Failed to hydrate the application
https://svelte.dev/e/hydration_failed`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/hydration_failed")}function _i(){if(v){let e=new Error("invalid_snippet\nCould not `{@render}` snippet due to the expression being `null` or `undefined`. Consider using optional chaining `{@render snippet?.()}`\nhttps://svelte.dev/e/invalid_snippet");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/invalid_snippet")}function hi(e){if(v){let t=new Error(`props_invalid_value
Cannot do \`bind:${e}={undefined}\` when \`${e}\` has a fallback value
https://svelte.dev/e/props_invalid_value`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/props_invalid_value")}function mi(e){if(v){let t=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function vi(){if(v){let e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function gi(){if(v){let e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function bi(){if(v){let e=new Error("state_unsafe_mutation\nUpdating state inside a derived or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}var mt=!1,rt=!1;var vt="[",gt="[!",Mt="]";var bt={};var G=Symbol(),Ge=Symbol("filename"),xi=Symbol("hmr"),yi="http://www.w3.org/1999/xhtml";var yr=null;function ft(e){let t=Error(),r=t.stack;if(r){let n=r.split(`
`),o=[`
`];for(let i=0;i<n.length;i++){let s=n[i];if(s!=="Error"){if(s.includes("validate_each_keys"))return null;s.includes("svelte/src/internal")||o.push(s)}}if(o.length===1)return null;ne(t,"stack",{value:o.join(`
`)}),ne(t,"name",{value:`${e}Error`})}return t}var D=null;function Er(e){D=e}var Ke=null;function $r(e){Ke=e}function ve(e,t=!1,r){var n=D={p:D,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};mt&&!t&&(D.l={s:null,u:null,r1:[],r2:Be(!1)}),be(()=>{n.d=!0}),v&&(D.function=r,Ke=r)}function ge(e){var s,a;let t=D;if(t!==null){e!==void 0&&(t.x=e);let l=t.e;if(l!==null){var r=k,n=C;t.e=null;try{for(var o=0;o<l.length;o++){var i=l[o];ee(i.effect),K(i.reaction),Ie(i.fn)}}finally{ee(r),K(n)}}D=t.p,v&&(Ke=(a=(s=t.p)==null?void 0:s.function)!=null?a:null),t.m=!0}return e||{}}function nt(){return!mt||D!==null&&D.l===null}function Te(e){if(typeof e!="object"||e===null||he in e)return e;let t=Ot(e);if(t!==Kn&&t!==fi)return e;var r=new Map,n=We(e),o=oe(0),i=v&&rt?ft("CreatedAt"):null,s=C,a=l=>{var f=C;K(s);var u=l();return K(f),u};return n&&r.set("length",oe(e.length,i)),new Proxy(e,{defineProperty(l,f,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&vi();var p=r.get(f);return p===void 0?(p=a(()=>oe(u.value,i)),r.set(f,p)):O(p,a(()=>Te(u.value))),!0},deleteProperty(l,f){var u=r.get(f);if(u===void 0)f in l&&r.set(f,a(()=>oe(G,i)));else{if(n&&typeof f=="string"){var p=r.get("length"),c=Number(f);Number.isInteger(c)&&c<p.v&&O(p,c)}O(u,G),$i(o)}return!0},get(l,f,u){var m;if(f===he)return e;var p=r.get(f),c=f in l;if(p===void 0&&(!c||(m=Pe(l,f))!=null&&m.writable)&&(p=a(()=>oe(Te(c?l[f]:G),i)),r.set(f,p)),p!==void 0){var d=$(p);return d===G?void 0:d}return Reflect.get(l,f,u)},getOwnPropertyDescriptor(l,f){var u=Reflect.getOwnPropertyDescriptor(l,f);if(u&&"value"in u){var p=r.get(f);p&&(u.value=$(p))}else if(u===void 0){var c=r.get(f),d=c==null?void 0:c.v;if(c!==void 0&&d!==G)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(l,f){var d;if(f===he)return!0;var u=r.get(f),p=u!==void 0&&u.v!==G||Reflect.has(l,f);if(u!==void 0||k!==null&&(!p||(d=Pe(l,f))!=null&&d.writable)){u===void 0&&(u=a(()=>oe(p?Te(l[f]):G,i)),r.set(f,u));var c=$(u);if(c===G)return!1}return p},set(l,f,u,p){var T;var c=r.get(f),d=f in l;if(n&&f==="length")for(var m=u;m<c.v;m+=1){var _=r.get(m+"");_!==void 0?O(_,G):m in l&&(_=a(()=>oe(G,i)),r.set(m+"",_))}c===void 0?(!d||(T=Pe(l,f))!=null&&T.writable)&&(c=a(()=>oe(void 0,i)),O(c,a(()=>Te(u))),r.set(f,c)):(d=c.v!==G,O(c,a(()=>Te(u))));var y=Reflect.getOwnPropertyDescriptor(l,f);if(y!=null&&y.set&&y.set.call(p,u),!d){if(n&&typeof f=="string"){var w=r.get("length"),R=Number(f);Number.isInteger(R)&&R>=w.v&&O(w,R+1)}$i(o)}return!0},ownKeys(l){$(o);var f=Reflect.ownKeys(l).filter(c=>{var d=r.get(c);return d===void 0||d.v!==G});for(var[u,p]of r)p.v!==G&&!(u in l)&&f.push(u);return f},setPrototypeOf(){gi()}})}function $i(e,t=1){O(e,e.v+t)}function Gt(e){try{if(e!==null&&typeof e=="object"&&he in e)return e[he]}catch(t){}return e}function eo(e,t){return Object.is(Gt(e),Gt(t))}function xt(e){var t=2050,r=C!==null&&C.f&2?C:null;k===null||r!==null&&r.f&256?t|=256:k.f|=1048576;let n={ctx:D,deps:null,effects:null,equals:tn,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r!=null?r:k};return v&&rt&&(n.created=ft("CreatedAt")),n}function oo(e){let t=xt(e);return on(t),t}function Sr(e){let t=xt(e);return t.equals=Wt,t}function rn(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)ie(t[r])}}var to=[];function _a(e){for(var t=e.parent;t!==null;){if(!(t.f&2))return t;t=t.parent}return null}function io(e){var t,r=k;if(ee(_a(e)),v){let n=Dt;ro(new Set);try{to.includes(e)&&ui(),to.push(e),rn(e),t=nn(e)}finally{ee(r),ro(n),to.pop()}}else try{rn(e),t=nn(e)}finally{ee(r)}return t}function so(e){var t=io(e),r=(ct||e.f&256)&&e.deps!==null?4096:1024;ue(e,r),e.equals(t)||(e.v=t,e.wv=Tr())}var Dt=new Set,Kt=new Map;function ro(e){Dt=e}function Be(e,t){var r={f:0,v:e,reactions:null,equals:tn,rv:0,wv:0};return v&&rt&&(r.created=t!=null?t:ft("CreatedAt"),r.debug=null),r}function oe(e,t){let r=Be(e,t);return on(r),r}function it(e,t=!1){var n,o;let r=Be(e);return t||(r.equals=Wt),mt&&D!==null&&D.l!==null&&((o=(n=D.l).s)!=null?o:n.s=[]).push(r),r}function O(e,t,r=!1){var o;C!==null&&!Ve&&nt()&&C.f&18&&!((o=Ae)!=null&&o.includes(e))&&bi();let n=r?Te(t):t;return Xt(e,n)}function Xt(e,t){var n;if(!e.equals(t)){var r=e.v;if(Jt?Kt.set(e,t):Kt.set(e,r),e.v=t,v&&rt&&(e.updated=ft("UpdatedAt"),k!=null&&(e.trace_need_increase=!0,(n=e.trace_v)!=null||(e.trace_v=r))),e.f&2&&(e.f&2048&&io(e),ue(e,e.f&256?4096:1024)),e.wv=Tr(),Si(e,2048),nt()&&k!==null&&k.f&1024&&!(k.f&96)&&(Le===null?Ti([e]):Le.push(e)),v&&Dt.size>0){let o=Array.from(Dt);for(let i of o)i.f&1024&&ue(i,4096),yt(i)&&Qt(i);Dt.clear()}}return t}function Si(e,t){var r=e.reactions;if(r!==null)for(var n=nt(),o=r.length,i=0;i<o;i++){var s=r[i],a=s.f;if(!(a&2048)&&!(!n&&s===k)){if(v&&a&262144){Dt.add(s);continue}ue(s,t),a&1280&&(a&2?Si(s,4096):er(s))}}}var sn="font-weight: bold",an="font-weight: normal";function Ai(e,t,r){v?console.warn(`%c[svelte] hydration_attribute_changed
%cThe \`${e}\` attribute on \`${t}\` changed its value between server and client renders. The client value, \`${r}\`, will be ignored in favour of the server value
https://svelte.dev/e/hydration_attribute_changed`,sn,an):console.warn("https://svelte.dev/e/hydration_attribute_changed")}function tr(e){v?console.warn(`%c[svelte] hydration_mismatch
%c${e?`Hydration failed because the initial UI does not match what was rendered on the server. The error occurred near ${e}`:"Hydration failed because the initial UI does not match what was rendered on the server"}
https://svelte.dev/e/hydration_mismatch`,sn,an):console.warn("https://svelte.dev/e/hydration_mismatch")}function ki(){v?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,sn,an):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function ln(e){v?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,sn,an):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}var E=!1;function te(e){E=e}var N;function z(e){if(e===null)throw tr(),bt;return N=e}function pe(){return z(we(N))}function V(e){if(E){if(we(N)!==null)throw tr(),bt;N=e}}function Pt(){for(var e=0,t=N;;){if(t.nodeType===8){var r=t.data;if(r===Mt){if(e===0)return t;e-=1}else(r===vt||r===gt)&&(e+=1)}var n=we(t);t.remove(),t=n}}function Ci(){let e=Array.prototype,t=Array.__svelte_cleanup;t&&t();let{indexOf:r,lastIndexOf:n,includes:o}=e;e.indexOf=function(i,s){let a=r.call(this,i,s);if(a===-1){for(let l=s!=null?s:0;l<this.length;l+=1)if(Gt(this[l])===i){ln("array.indexOf(...)");break}}return a},e.lastIndexOf=function(i,s){let a=n.call(this,i,s!=null?s:this.length-1);if(a===-1){for(let l=0;l<=(s!=null?s:this.length-1);l+=1)if(Gt(this[l])===i){ln("array.lastIndexOf(...)");break}}return a},e.includes=function(i,s){let a=o.call(this,i,s);if(!a){for(let l=0;l<this.length;l+=1)if(Gt(this[l])===i){ln("array.includes(...)");break}}return a},Array.__svelte_cleanup=()=>{e.indexOf=r,e.lastIndexOf=n,e.includes=o}}var lo,Ni,Ar,Ii,Ri;function fn(){if(lo===void 0){lo=window,Ni=document,Ar=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Ii=Pe(t,"firstChild").get,Ri=Pe(t,"nextSibling").get,Zn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Zn(r)&&(r.__t=void 0),v&&(e.__svelte_meta=null,Ci())}}function Ze(e=""){return document.createTextNode(e)}function se(e){return Ii.call(e)}function we(e){return Ri.call(e)}function H(e,t){if(!E)return se(e);var r=se(N);if(r===null)r=N.appendChild(Ze());else if(t&&r.nodeType!==3){var n=Ze();return r==null||r.before(n),z(n),n}return z(r),r}function rr(e,t){var o,i;if(!E){var r=se(e);return r instanceof Comment&&r.data===""?we(r):r}if(t&&((o=N)==null?void 0:o.nodeType)!==3){var n=Ze();return(i=N)==null||i.before(n),z(n),n}return N}function P(e,t=1,r=!1){let n=E?N:e;for(var o;t--;)o=n,n=we(n);if(!E)return n;var i=n==null?void 0:n.nodeType;if(r&&i!==3){var s=Ze();return n===null?o==null||o.after(s):n.before(s),z(s),s}return z(n),n}function nr(e){e.textContent=""}function ha(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Ft(e,t,r,n=!0){var l;var o=k;if(v)for(;o!==null&&o.f&262144;)o=o.parent;var i={ctx:D,deps:null,nodes_start:null,nodes_end:null,f:e|2048,first:null,fn:t,last:null,next:null,parent:o,prev:null,teardown:null,transitions:null,wv:0};if(v&&(i.component_function=Ke),r)try{Qt(i),i.f|=32768}catch(f){throw ie(i),f}else t!==null&&er(i);var s=r&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&1048704)===0;if(!s&&n&&(o!==null&&ha(i,o),C!==null&&C.f&2)){var a=C;((l=a.effects)!=null?l:a.effects=[]).push(i)}return i}function be(e){let t=Ft(8,null,!1);return ue(t,1024),t.teardown=e,t}function un(e){let t=Ft(64,e,!0);return()=>{ie(t)}}function Mi(e){let t=Ft(64,e,!0);return(r={})=>new Promise(n=>{r.outro?Qe(t,()=>{ie(t),n(void 0)}):(ie(t),n(void 0))})}function Ie(e){return Ft(4,e,!1)}function de(e){return Ft(8,e,!0)}function W(e,t=[],r=xt){let n=t.map(r),o=()=>e(...n.map($));return v&&ne(o,"name",{value:"{expression}"}),Ee(o)}function Ee(e,t=0){return Ft(24|t,e,!0)}function ae(e,t=!0){return Ft(40,e,!0,t)}function uo(e){var t=e.teardown;if(t!==null){let r=Jt,n=C;fo(!0),K(null);try{t.call(null)}finally{fo(r),K(n)}}}function po(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;r.f&64?r.parent=null:ie(r,t),r=n}}function Di(e){for(var t=e.first;t!==null;){var r=t.next;t.f&32||ie(t),t=r}}function ie(e,t=!0){var r=!1;if((t||e.f&524288)&&e.nodes_start!==null){for(var n=e.nodes_start,o=e.nodes_end;n!==null;){var i=n===o?null:we(n);n.remove(),n=i}r=!0}po(e,t&&!r),Cr(e,0),ue(e,16384);var s=e.transitions;if(s!==null)for(let l of s)l.stop();uo(e);var a=e.parent;a!==null&&a.first!==null&&_o(e),v&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function _o(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Qe(e,t){var r=[];pn(e,r,!0),ho(r,()=>{ie(e),t&&t()})}function ho(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var o of e)o.out(n)}else t()}function pn(e,t,r){if(!(e.f&8192)){if(e.f^=8192,e.transitions!==null)for(let s of e.transitions)(s.is_global||r)&&t.push(s);for(var n=e.first;n!==null;){var o=n.next,i=(n.f&65536)!==0||(n.f&32)!==0;pn(n,t,i?r:!1),n=o}}}function wt(e){Pi(e,!0)}function Pi(e,t){if(e.f&8192){e.f^=8192,e.f&1024||(e.f^=1024),yt(e)&&(ue(e,2048),er(e));for(var r=e.first;r!==null;){var n=r.next,o=(r.f&65536)!==0||(r.f&32)!==0;Pi(r,o?t:!1),r=n}if(e.transitions!==null)for(let i of e.transitions)(i.is_global||t)&&i.in()}}var ma=typeof requestIdleCallback=="undefined"?e=>setTimeout(e,1):requestIdleCallback,Nr=[],Ir=[];function Fi(){var e=Nr;Nr=[],br(e)}function Bi(){var e=Ir;Ir=[],br(e)}function He(e){Nr.length===0&&queueMicrotask(Fi),Nr.push(e)}function Vi(e){Ir.length===0&&ma(Bi),Ir.push(e)}function mo(){Nr.length>0&&Fi(),Ir.length>0&&Bi()}var qi=new WeakSet,dn=!1,Or=!1,Rr=null,Bt=!1,Jt=!1;function fo(e){Jt=e}var Lr=[],hn=[],C=null,Ve=!1;function K(e){C=e}var k=null;function ee(e){k=e}var Ae=null;function on(e){C!==null&&C.f&2097152&&(Ae===null?Ae=[e]:Ae.push(e))}var $e=null,Oe=0,Le=null;function Ti(e){Le=e}var zi=1,mn=0,ct=!1,wr=null;function Tr(){return++zi}function yt(e){var p,c;var t=e.f;if(t&2048)return!0;if(t&4096){var r=e.deps,n=(t&256)!==0;if(r!==null){var o,i,s=(t&512)!==0,a=n&&k!==null&&!ct,l=r.length;if(s||a){var f=e,u=f.parent;for(o=0;o<l;o++)i=r[o],(s||!((p=i==null?void 0:i.reactions)!=null&&p.includes(f)))&&((c=i.reactions)!=null?c:i.reactions=[]).push(f);s&&(f.f^=512),a&&u!==null&&!(u.f&256)&&(f.f^=256)}for(o=0;o<l;o++)if(i=r[o],yt(i)&&so(i),i.wv>e.wv)return!0}(!n||k!==null&&!ct)&&ue(e,1024)}return!1}function Hi(e,t){for(var r=t;r!==null;){if(r.f&128)try{r.fn(e);return}catch(n){r.f^=128}r=r.parent}throw dn=!1,e}function Ui(e){return(e.f&16384)===0&&(e.parent===null||(e.parent.f&128)===0)}function ir(e,t,r,n){var u,p;if(dn){if(r===null&&(dn=!1),Ui(t))throw e;return}if(r!==null&&(dn=!0),!v||n===null||!(e instanceof Error)||qi.has(e)){Hi(e,t);return}qi.add(e);let o=[],i=(u=t.fn)==null?void 0:u.name;i&&o.push(i);let s=n;for(;s!==null;){if(v){var a=(p=s.function)==null?void 0:p[Ge];if(a){let c=a.split("/").pop();o.push(c)}}s=s.p}let l=Ar?"  ":"	";ne(e,"message",{value:e.message+`
${o.map(c=>`
${l}in ${c}`).join("")}
`}),ne(e,"component_stack",{value:o});let f=e.stack;if(f){let c=f.split(`
`),d=[];for(let m=0;m<c.length;m++){let _=c[m];_.includes("svelte/src/internal")||d.push(_)}ne(e,"stack",{value:d.join(`
`)})}if(Hi(e,t),Ui(t))throw e}function Wi(e,t,r=!0){var n=e.reactions;if(n!==null)for(var o=0;o<n.length;o++){var i=n[o];Ae!=null&&Ae.includes(e)||(i.f&2?Wi(i,t,!1):t===i&&(r?ue(i,2048):i.f&1024&&ue(i,4096),er(i)))}}function nn(e){var d,m;var t=$e,r=Oe,n=Le,o=C,i=ct,s=Ae,a=D,l=Ve,f=e.f;$e=null,Oe=0,Le=null,ct=(f&256)!==0&&(Ve||!Bt||C===null),C=f&96?null:e,Ae=null,Er(e.ctx),Ve=!1,mn++,e.f|=2097152;try{var u=(0,e.fn)(),p=e.deps;if($e!==null){var c;if(Cr(e,Oe),p!==null&&Oe>0)for(p.length=Oe+$e.length,c=0;c<$e.length;c++)p[Oe+c]=$e[c];else e.deps=p=$e;if(!ct)for(c=Oe;c<p.length;c++)((m=(d=p[c]).reactions)!=null?m:d.reactions=[]).push(e)}else p!==null&&Oe<p.length&&(Cr(e,Oe),p.length=Oe);if(nt()&&Le!==null&&!Ve&&p!==null&&!(e.f&6146))for(c=0;c<Le.length;c++)Wi(Le[c],e);return o!==e&&(mn++,Le!==null&&(n===null?n=Le:n.push(...Le))),u}finally{$e=t,Oe=r,Le=n,C=o,ct=i,Ae=s,Er(a),Ve=l,e.f^=2097152}}function va(e,t){let r=t.reactions;if(r!==null){var n=li.call(r,e);if(n!==-1){var o=r.length-1;o===0?r=t.reactions=null:(r[n]=r[o],r.pop())}}r===null&&t.f&2&&($e===null||!$e.includes(t))&&(ue(t,4096),t.f&768||(t.f^=512),rn(t),Cr(t,0))}function Cr(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)va(e,r[n])}function Qt(e){var t=e.f;if(!(t&16384)){ue(e,1024);var r=k,n=D,o=Bt;if(k=e,Bt=!0,v){var i=Ke;$r(e.component_function)}try{t&16?Di(e):po(e),uo(e);var s=nn(e);e.teardown=typeof s=="function"?s:null,e.wv=zi;var a=e.deps;if(v&&rt&&e.f&2048&&a!==null)for(let f=0;f<a.length;f++){var l=a[f];l.trace_need_increase&&(l.wv=Tr(),l.trace_need_increase=void 0,l.trace_v=void 0)}v&&hn.push(e)}catch(f){ir(f,e,r,n||e.ctx)}finally{Bt=o,k=r,v&&$r(i)}}}function Yi(){console.error("Last ten effects were: ",hn.slice(-10).map(e=>e.fn)),hn=[]}function ga(){try{pi()}catch(e){if(v&&ne(e,"stack",{value:""}),Rr!==null)if(v)try{ir(e,Rr,null,null)}catch(t){throw Yi(),t}else ir(e,Rr,null,null);else throw v&&Yi(),e}}function go(){var e=Bt;try{var t=0;for(Bt=!0;Lr.length>0;){t++>1e3&&ga();var r=Lr,n=r.length;Lr=[];for(var o=0;o<n;o++){var i=xa(r[o]);ba(i)}Kt.clear()}}finally{Or=!1,Bt=e,Rr=null,v&&(hn=[])}}function ba(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if(!(n.f&24576))try{yt(n)&&(Qt(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?_o(n):n.fn=null))}catch(o){ir(o,n,null,n.ctx)}}}function er(e){Or||(Or=!0,queueMicrotask(go));for(var t=Rr=e;t.parent!==null;){t=t.parent;var r=t.f;if(r&96){if(!(r&1024))return;t.f^=1024}}Lr.push(t)}function xa(e){for(var t=[],r=e;r!==null;){var n=r.f,o=(n&96)!==0,i=o&&(n&1024)!==0;if(!i&&!(n&8192)){if(n&4)t.push(r);else if(o)r.f^=1024;else{var s=C;try{C=r,yt(r)&&Qt(r)}catch(f){ir(f,r,null,r.ctx)}finally{C=s}}var a=r.first;if(a!==null){r=a;continue}}var l=r.parent;for(r=r.next;r===null&&l!==null;)r=l.next,l=l.parent}return t}function Mr(e){var t;for(e&&(Or=!0,go(),t=e()),mo();Lr.length>0;)Or=!0,go(),mo();return t}function $(e){var t=e.f,r=(t&2)!==0;if(wr!==null&&wr.add(e),C!==null&&!Ve){if(!(Ae!=null&&Ae.includes(e))){var n=C.deps;e.rv<mn&&(e.rv=mn,$e===null&&n!==null&&n[Oe]===e?Oe++:$e===null?$e=[e]:(!ct||!$e.includes(e))&&$e.push(e))}}else if(r&&e.deps===null&&e.effects===null){var o=e,i=o.parent;i!==null&&!(i.f&256)&&(o.f^=256)}if(r&&(o=e,yt(o)&&so(o)),v&&rt&&yr!==null&&C!==null&&yr.reaction===C){if(e.debug)e.debug();else if(e.created){var s=yr.entries.get(e);s===void 0&&(s={read:[]},yr.entries.set(e,s)),s.read.push(ft("TracedAt"))}}return Jt&&Kt.has(e)?Kt.get(e):e.v}function M(e){var t=Ve;try{return Ve=!0,e()}finally{Ve=t}}var ya=-7169;function ue(e,t){e.f=e.f&ya|t}function gn(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(he in e)vn(e);else if(!Array.isArray(e))for(let t in e){let r=e[t];typeof r=="object"&&r&&he in r&&vn(r)}}}function vn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{vn(e[n],t)}catch(o){}let r=Ot(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){let n=en(r);for(let o in n){let i=n[o].get;if(i)try{i.call(e)}catch(s){}}}}}function Gi(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}var wa=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Ki(e){return wa.includes(e)}var Ea=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","webkitdirectory","defer","disablepictureinpicture","disableremoteplayback"];var $a={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Zi(e){var t;return e=e.toLowerCase(),(t=$a[e])!=null?t:e}var cu=[...Ea,"formNoValidate","isMap","noModule","playsInline","readOnly","value","volume","defaultValue","defaultChecked","srcObject","noValidate","allowFullscreen","disablePictureInPicture","disableRemotePlayback"];var Sa=["touchstart","touchmove"];function Xi(e){return Sa.includes(e)}function Dr(e,t){if(t){let r=document.body;e.autofocus=!0,He(()=>{document.activeElement===r&&e.focus()})}}function Pr(e){E&&se(e)!==null&&nr(e)}var Qi=!1;function bn(){Qi||(Qi=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(let r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Fr(e){var t=C,r=k;K(null),ee(null);try{return e()}finally{K(t),ee(r)}}function Br(e,t,r,n=r){e.addEventListener(t,()=>Fr(r));let o=e.__on_r;o?e.__on_r=()=>{o(),n(!0)}:e.__on_r=()=>n(!0),bn()}var bo=new Set,xn=new Set;function xo(e,t,r,n={}){function o(i){if(n.capture||sr.call(t,i),!i.cancelBubble)return Fr(()=>r==null?void 0:r.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?He(()=>{t.addEventListener(e,o,n)}):t.addEventListener(e,o,n),o}function Vr(e,t,r,n,o){var i={capture:n,passive:o},s=xo(e,t,r,i);(t===document.body||t===window||t===document)&&be(()=>{t.removeEventListener(e,s,i)})}function Vt(e){for(var t=0;t<e.length;t++)bo.add(e[t]);for(var r of xn)r(e)}function sr(e){var R;var t=this,r=t.ownerDocument,n=e.type,o=((R=e.composedPath)==null?void 0:R.call(e))||[],i=o[0]||e.target,s=0,a=e.__root;if(a){var l=o.indexOf(a);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var f=o.indexOf(t);if(f===-1)return;l<=f&&(s=l)}if(i=o[s]||e.target,i!==t){ne(e,"currentTarget",{configurable:!0,get(){return i||r}});var u=C,p=k;K(null),ee(null);try{for(var c,d=[];i!==null;){var m=i.assignedSlot||i.parentNode||i.host||null;try{var _=i["__"+n];if(_!=null&&(!i.disabled||e.target===i))if(We(_)){var[y,...w]=_;y.apply(i,[e,...w])}else _.call(i,e)}catch(T){c?d.push(T):c=T}if(e.cancelBubble||m===t||m===null)break;i=m}if(c){for(let T of d)queueMicrotask(()=>{throw T});throw c}}finally{e.__root=t,delete e.currentTarget,K(u),ee(p)}}}var Ta;function es(){Ta=void 0}function yn(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Et(e,t){var r=k;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function q(e,t){var r=(t&1)!==0,n=(t&2)!==0,o,i=!e.startsWith("<!>");return()=>{if(E)return Et(N,null),N;o===void 0&&(o=yn(i?e:"<!>"+e),r||(o=se(o)));var s=n||Ar?document.importNode(o,!0):o.cloneNode(!0);if(r){var a=se(s),l=s.lastChild;Et(a,l)}else Et(s,s);return s}}function F(e,t){if(E){k.nodes_end=N,pe();return}e!==null&&e.before(t)}var yo=!0;function st(e,t){var n;var r=t==null?"":typeof t=="object"?t+"":t;r!==((n=e.__t)!=null?n:e.__t=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function $t(e,t){return ts(e,t)}function Eo(e,t){var s;fn(),t.intro=(s=t.intro)!=null?s:!1;let r=t.target,n=E,o=N;try{for(var i=se(r);i&&(i.nodeType!==8||i.data!==vt);)i=we(i);if(!i)throw bt;te(!0),z(i),pe();let a=ts(e,{...t,anchor:i});if(N===null||N.nodeType!==8||N.data!==Mt)throw tr(),bt;return te(!1),a}catch(a){if(a===bt)return t.recover===!1&&di(),fn(),nr(r),te(!1),$t(e,t);throw a}finally{te(n),z(o),es()}}var ar=new Map;function ts(e,{target:t,anchor:r,props:n={},events:o,context:i,intro:s=!0}){fn();var a=new Set,l=p=>{for(var c=0;c<p.length;c++){var d=p[c];if(!a.has(d)){a.add(d);var m=Xi(d);t.addEventListener(d,sr,{passive:m});var _=ar.get(d);_===void 0?(document.addEventListener(d,sr,{passive:m}),ar.set(d,1)):ar.set(d,_+1)}}};l(gr(bo)),xn.add(l);var f=void 0,u=Mi(()=>{var p=r!=null?r:t.appendChild(Ze());return ae(()=>{if(i){ve({});var c=D;c.c=i}o&&(n.$$events=o),E&&Et(p,null),yo=s,f=e(p,n)||{},yo=!0,E&&(k.nodes_end=N),i&&ge()}),()=>{var m;for(var c of a){t.removeEventListener(c,sr);var d=ar.get(c);--d===0?(document.removeEventListener(c,sr),ar.delete(c)):ar.set(c,d)}xn.delete(l),p!==r&&((m=p.parentNode)==null||m.removeChild(p))}});return wo.set(f,u),f}var wo=new WeakMap;function qt(e,t){let r=wo.get(e);return r?(wo.delete(e),r(t)):(v&&ki(),Promise.resolve())}function pt(e,t,[r,n]=[0,0]){E&&r===0&&pe();var o=e,i=null,s=null,a=G,l=r>0?65536:0,f=!1;let u=(c,d=!0)=>{f=!0,p(d,c)},p=(c,d)=>{if(a===(a=c))return;let m=!1;if(E&&n!==-1){if(r===0){let y=o.data;y===vt?n=0:y===gt?n=1/0:(n=parseInt(y.substring(1)),n!==n&&(n=a?1/0:-1))}let _=n>r;!!a===_&&(o=Pt(),z(o),te(!1),m=!0,n=-1)}a?(i?wt(i):d&&(i=ae(()=>d(o))),s&&Qe(s,()=>{s=null})):(s?wt(s):d&&(s=ae(()=>d(o,[r+1,n]))),i&&Qe(i,()=>{i=null})),m&&te(!0)};Ee(()=>{f=!1,t(u),f||p(null,null)},l),E&&(o=N)}var qr=null;function Ra(e,t,r,n){for(var o=[],i=t.length,s=0;s<i;s++)pn(t[s].e,o,!0);var a=i>0&&o.length===0&&r!==null;if(a){var l=r.parentNode;nr(l),l.append(r),n.clear(),St(e,t[0].prev,t[i-1].next)}ho(o,()=>{for(var f=0;f<i;f++){var u=t[f];a||(n.delete(u.k),St(e,u.prev,u.next)),ie(u.e,!a)}})}function To(e,t,r,n,o,i=null){var s=e,a={flags:t,items:new Map,first:null},l=(t&4)!==0;if(l){var f=e;s=E?z(se(f)):f.appendChild(Ze())}E&&pe();var u=null,p=!1,c=Sr(()=>{var d=r();return We(d)?d:d==null?[]:gr(d)});Ee(()=>{var d=$(c),m=d.length;if(p&&m===0)return;p=m===0;let _=!1;if(E){var y=s.data===gt;y!==(m===0)&&(s=Pt(),z(s),te(!1),_=!0)}if(E){for(var w=null,R,T=0;T<m;T++){if(N.nodeType===8&&N.data===Mt){s=N,_=!0,te(!1);break}var g=d[T],x=n(g,T);R=os(N,a,w,null,g,x,T,o,t,r),a.items.set(x,R),w=R}m>0&&z(Pt())}E||La(d,a,s,o,t,n,r),i!==null&&(m===0?u?wt(u):u=ae(()=>i(s)):u!==null&&Qe(u,()=>{u=null})),_&&te(!0),$(c)}),E&&(s=N)}function La(e,t,r,n,o,i,s){var De,Qr,fe,ce;var a=(o&8)!==0,l=(o&3)!==0,f=e.length,u=t.items,p=t.first,c=p,d,m=null,_,y=[],w=[],R,T,g,x;if(a)for(x=0;x<f;x+=1)R=e[x],T=i(R,x),g=u.get(T),g!==void 0&&((De=g.a)==null||De.measure(),(_!=null?_:_=new Set).add(g));for(x=0;x<f;x+=1){if(R=e[x],T=i(R,x),g=u.get(T),g===void 0){var b=c?c.e.nodes_start:r;m=os(b,t,m,m===null?t.first:m.next,R,T,x,n,o,s),u.set(T,m),y=[],w=[],c=m.next;continue}if(l&&Oa(g,R,x,o),g.e.f&8192&&(wt(g.e),a&&((Qr=g.a)==null||Qr.unfix(),(_!=null?_:_=new Set).delete(g))),g!==c){if(d!==void 0&&d.has(g)){if(y.length<w.length){var I=w[0],S;m=I.prev;var A=y[0],j=y[y.length-1];for(S=0;S<y.length;S+=1)rs(y[S],I,r);for(S=0;S<w.length;S+=1)d.delete(w[S]);St(t,A.prev,j.next),St(t,m,A),St(t,j,I),c=I,m=j,x-=1,y=[],w=[]}else d.delete(g),rs(g,c,r),St(t,g.prev,g.next),St(t,g,m===null?t.first:m.next),St(t,m,g),m=g;continue}for(y=[],w=[];c!==null&&c.k!==T;)c.e.f&8192||(d!=null?d:d=new Set).add(c),w.push(c),c=c.next;if(c===null)continue;g=c}y.push(g),m=g,c=g.next}if(c!==null||d!==void 0){for(var Q=d===void 0?[]:gr(d);c!==null;)c.e.f&8192||Q.push(c),c=c.next;var Ne=Q.length;if(Ne>0){var et=o&4&&f===0?r:null;if(a){for(x=0;x<Ne;x+=1)(fe=Q[x].a)==null||fe.measure();for(x=0;x<Ne;x+=1)(ce=Q[x].a)==null||ce.fix()}Ra(t,Q,et,u)}}a&&He(()=>{var Se;if(_!==void 0)for(g of _)(Se=g.a)==null||Se.apply()}),k.first=t.first&&t.first.e,k.last=m&&m.e}function Oa(e,t,r,n){n&1&&Xt(e.v,t),n&2?Xt(e.i,r):e.i=r}function os(e,t,r,n,o,i,s,a,l,f){var u=qr,p=(l&1)!==0,c=(l&16)===0,d=p?c?it(o):Be(o):o,m=l&2?Be(s):s;v&&p&&(d.debug=()=>{var y=typeof m=="number"?s:m.v;f()[y]});var _={i:m,v:d,k:i,a:null,e:null,prev:r,next:n};qr=_;try{return _.e=ae(()=>a(e,d,m,f),E),_.e.prev=r&&r.e,_.e.next=n&&n.e,r===null?t.first=_:(r.next=_,r.e.next=_.e),n!==null&&(n.prev=_,n.e.prev=_.e),_}finally{qr=u}}function rs(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,o=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var s=we(i);o.before(i),i=s}}function St(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Ao(e,t,...r){var n=e,o=_e,i;Ee(()=>{o!==(o=t())&&(i&&(ie(i),i=null),v&&o==null&&_i(),i=ae(()=>o(n,...r)))},65536),E&&(n=N)}function at(e,t,r){Ie(()=>{var n=M(()=>t(e,r==null?void 0:r())||{});if(r&&(n!=null&&n.update)){var o=!1,i={};de(()=>{var s=r();gn(s),o&&zt(i,s)&&(i=s,n.update(s))}),o=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function is(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=is(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ss(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=is(e))&&(n&&(n+=" "),n+=t);return n}function Co(e){return typeof e=="object"?ss(e):e!=null?e:""}var as=[...` 	
\r\f\xA0\v\uFEFF`];function fs(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var o in r)if(r[o])n=n?n+" "+o:o;else if(n.length)for(var i=o.length,s=0;(s=n.indexOf(o,s))>=0;){var a=s+i;(s===0||as.includes(n[s-1]))&&(a===n.length||as.includes(n[a]))?n=(s===0?"":n.substring(0,s))+n.substring(a+1):s=a}}return n===""?null:n}function ls(e,t=!1){var r=t?" !important;":";",n="";for(var o in e){var i=e[o];i!=null&&i!==""&&(n+=" "+o+": "+i+r)}return n}function ko(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function cs(e,t){if(t){var r="",n,o;if(Array.isArray(t)?(n=t[0],o=t[1]):n=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,s=0,a=!1,l=[];n&&l.push(...Object.keys(n).map(ko)),o&&l.push(...Object.keys(o).map(ko));var f=0,u=-1;let _=e.length;for(var p=0;p<_;p++){var c=e[p];if(a?c==="/"&&e[p-1]==="*"&&(a=!1):i?i===c&&(i=!1):c==="/"&&e[p+1]==="*"?a=!0:c==='"'||c==="'"?i=c:c==="("?s++:c===")"&&s--,!a&&i===!1&&s===0){if(c===":"&&u===-1)u=p;else if(c===";"||p===_-1){if(u!==-1){var d=ko(e.substring(f,u).trim());if(!l.includes(d)){c!==";"&&p++;var m=e.substring(f,p).trim();r+=" "+m+";"}}f=p+1,u=-1}}}}return n&&(r+=ls(n)),o&&(r+=ls(o,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function Hr(e,t,r,n,o,i){var s=e.__className;if(E||s!==r||s===void 0){var a=fs(r,n,i);(!E||a!==e.getAttribute("class"))&&(a==null?e.removeAttribute("class"):t?e.className=a:e.setAttribute("class",a)),e.__className=r}else if(i&&o!==i)for(var l in i){var f=!!i[l];(o==null||f!==!!o[l])&&e.classList.toggle(l,f)}return i}function No(e,t={},r,n){for(var o in r){var i=r[o];t[o]!==i&&(r[o]==null?e.style.removeProperty(o):e.style.setProperty(o,i,n))}}function Io(e,t,r,n){var o=e.__style;if(E||o!==t){var i=cs(t,n);(!E||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}else n&&(Array.isArray(n)?(No(e,r==null?void 0:r[0],n[0]),No(e,r==null?void 0:r[1],n[1],"important")):No(e,r,n));return n}var lr=Symbol("class"),fr=Symbol("style"),ds=Symbol("is custom element"),_s=Symbol("is html");function Ht(e){if(E){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;Ur(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var o=e.checked;Ur(e,"checked",null),e.checked=o}}};e.__on_r=r,Vi(r),bn()}}function hs(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Ur(e,t,r,n){var o=ms(e);if(E&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")){n||Da(e,t,r!=null?r:"");return}o[t]!==(o[t]=r)&&(t==="loading"&&(e[ci]=r),r==null?e.removeAttribute(t):typeof r!="string"&&vs(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Me(e,t,r,n,o=!1){var T;var i=ms(e),s=i[ds],a=!i[_s];let l=E&&s;l&&te(!1);var f=t||{},u=e.tagName==="OPTION";for(var p in t)p in r||(r[p]=null);r.class?r.class=Co(r.class):(n||r[lr])&&(r.class=null),r[fr]&&((T=r.style)!=null||(r.style=null));var c=vs(e);for(let g in r){let x=r[g];if(u&&g==="value"&&x==null){e.value=e.__value="",f[g]=x;continue}if(g==="class"){var d=e.namespaceURI==="http://www.w3.org/1999/xhtml";Hr(e,d,x,n,t==null?void 0:t[lr],r[lr]),f[g]=x,f[lr]=r[lr];continue}if(g==="style"){Io(e,x,t==null?void 0:t[fr],r[fr]),f[g]=x,f[fr]=r[fr];continue}var m=f[g];if(x!==m){f[g]=x;var _=g[0]+g[1];if(_!=="$$")if(_==="on"){let b={},I="$$"+g,S=g.slice(2);var y=Ki(S);if(Gi(S)&&(S=S.slice(0,-7),b.capture=!0),!y&&m){if(x!=null)continue;e.removeEventListener(S,f[I],b),f[I]=null}if(x!=null)if(y)e[`__${S}`]=x,Vt([S]);else{let A=function(j){f[g].call(this,j)};f[I]=xo(S,e,A,b)}else y&&(e[`__${S}`]=void 0)}else if(g==="style")Ur(e,g,x);else if(g==="autofocus")Dr(e,Boolean(x));else if(!s&&(g==="__value"||g==="value"&&x!=null))e.value=e.__value=x;else if(g==="selected"&&u)hs(e,x);else{var w=g;a||(w=Zi(w));var R=w==="defaultValue"||w==="defaultChecked";if(x==null&&!s&&!R)if(i[g]=null,w==="value"||w==="checked"){let b=e,I=t===void 0;if(w==="value"){let S=b.defaultValue;b.removeAttribute(w),b.defaultValue=S,b.value=b.__value=I?S:null}else{let S=b.defaultChecked;b.removeAttribute(w),b.defaultChecked=S,b.checked=I?S:!1}}else e.removeAttribute(g);else R||c.includes(w)&&(s||typeof x!="string")?e[w]=x:typeof x!="function"&&Ur(e,w,x,o)}}}return l&&te(!0),f}function ms(e){var t;return(t=e.__attributes)!=null?t:e.__attributes={[ds]:e.nodeName.includes("-"),[_s]:e.namespaceURI===yi}}var us=new Map;function vs(e){var t=us.get(e.nodeName);if(t)return t;us.set(e.nodeName,t=[]);for(var r,n=e,o=Element.prototype;o!==n;){r=en(n);for(var i in r)r[i].set&&t.push(i);n=Ot(n)}return t}function Da(e,t,r){var n;v&&(t==="srcset"&&Pa(e,r)||Ro((n=e.getAttribute(t))!=null?n:"",r)||Ai(t,e.outerHTML.replace(e.innerHTML,e.innerHTML&&"..."),String(r)))}function Ro(e,t){return e===t?!0:new URL(e,document.baseURI).href===new URL(t,document.baseURI).href}function ps(e){return e.split(",").map(t=>t.trim().split(" ").filter(Boolean))}function Pa(e,t){var r=ps(e.srcset),n=ps(t);return n.length===r.length&&n.every(([o,i],s)=>i===r[s][1]&&(Ro(r[s][0],o)||Ro(o,r[s][0])))}function Ut(e,t,r=t){var n=nt();Br(e,"input",o=>{v&&e.type==="checkbox"&&Xn();var i=o?e.defaultValue:e.value;if(i=Lo(e)?Oo(i):i,r(i),n&&i!==(i=t())){var s=e.selectionStart,a=e.selectionEnd;e.value=i!=null?i:"",a!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(a,e.value.length))}}),(E&&e.defaultValue!==e.value||M(t)==null&&e.value)&&r(Lo(e)?Oo(e.value):e.value),de(()=>{v&&e.type==="checkbox"&&Xn();var o=t();Lo(e)&&o===Oo(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o!=null?o:"")})}function Mo(e,t,r=t){Br(e,"change",n=>{var o=n?e.defaultChecked:e.checked;r(o)}),(E&&e.defaultChecked!==e.checked||M(t)==null)&&r(e.checked),de(()=>{var n=t();e.checked=Boolean(n)})}function Lo(e){var t=e.type;return t==="number"||t==="range"}function Oo(e){return e===""?null:+e}function En(e,t,r){if(e.multiple)return Va(e,t);for(var n of e.options){var o=Yr(n);if(eo(o,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function gs(e,t){let r=!0;Ie(()=>{t&&En(e,M(t),r),r=!1;var n=new MutationObserver(()=>{var o=e.__value;En(e,o)});return n.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function Do(e,t,r=t){var n=!0;Br(e,"change",o=>{var l;var i=o?"[selected]":":checked",s;if(e.multiple)s=[].map.call(e.querySelectorAll(i),Yr);else{var a=(l=e.querySelector(i))!=null?l:e.querySelector("option:not([disabled])");s=a&&Yr(a)}r(s)}),Ie(()=>{var o=t();if(En(e,o,n),n&&o===void 0){var i=e.querySelector(":checked");i!==null&&(o=Yr(i),r(o))}e.__value=o,n=!1}),gs(e)}function Va(e,t){for(var r of e.options)r.selected=~t.indexOf(Yr(r))}function Yr(e){return"__value"in e?e.__value:e.value}var Tt,cr,jr,$n,bs,Fo=class{constructor(t){U(this,$n);U(this,Tt,new WeakMap);U(this,cr,void 0);U(this,jr,void 0);B(this,jr,t)}observe(t,r){var n=h(this,Tt).get(t)||new Set;return n.add(r),h(this,Tt).set(t,n),tt(this,$n,bs).call(this).observe(t,h(this,jr)),()=>{var o=h(this,Tt).get(t);o.delete(r),o.size===0&&(h(this,Tt).delete(t),h(this,cr).unobserve(t))}}},Po=Fo;Tt=new WeakMap,cr=new WeakMap,jr=new WeakMap,$n=new WeakSet,bs=function(){var t;return(t=h(this,cr))!=null?t:B(this,cr,new ResizeObserver(r=>{for(var n of r){Fo.entries.set(n.target,n);for(var o of h(this,Tt).get(n.target)||[])o(n)}}))},L(Po,"entries",new WeakMap);function Sn(e,t,r){if(e==null)return t(void 0),r&&r(void 0),_e;let n=M(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}var ur=[];function Tn(e,t=_e){let r=null,n=new Set;function o(a){if(zt(e,a)&&(e=a,r)){let l=!ur.length;for(let f of n)f[1](),ur.push(f,e);if(l){for(let f=0;f<ur.length;f+=2)ur[f][0](ur[f+1]);ur.length=0}}}function i(a){o(a(e))}function s(a,l=_e){let f=[a,l];return n.add(f),n.size===1&&(r=t(o,i)||_e),a(e),()=>{n.delete(f),n.size===0&&r&&(r(),r=null)}}return{set:o,update:i,subscribe:s}}function An(e){let t;return Sn(e,r=>t=r)(),t}var kn=!1,Vo=Symbol();function qo(e,t,r){var i;let n=(i=r[t])!=null?i:r[t]={store:null,source:it(void 0),unsubscribe:_e};if(n.store!==e&&!(Vo in r))if(n.unsubscribe(),n.store=e!=null?e:null,e==null)n.source.v=void 0,n.unsubscribe=_e;else{var o=!0;n.unsubscribe=Sn(e,s=>{o?n.source.v=s:O(n.source,s)}),o=!1}return e&&Vo in r?An(e):$(n.source)}function Cn(e,t){return e.set(t),t}function Ho(){let e={};function t(){be(()=>{for(var r in e)e[r].unsubscribe();ne(e,Vo,{enumerable:!1,value:!0})})}return[e,t]}function Nn(e,t,r){return e.set(r),t}function Uo(e){var t=kn;try{return kn=!1,[e(),kn]}finally{kn=t}}function ys(e){var t,r;return(r=(t=e.ctx)==null?void 0:t.d)!=null?r:!1}function At(e,t,r,n){var I,S;var o=(r&1)!==0,i=!mt||(r&2)!==0,s=(r&8)!==0,a=(r&16)!==0,l=!1,f;s?[f,l]=Uo(()=>e[t]):f=e[t];var u=he in e||xr in e,p=s&&((S=(I=Pe(e,t))==null?void 0:I.set)!=null?S:u&&t in e&&(A=>e[t]=A))||void 0,c=n,d=!0,m=!1,_=()=>(m=!0,d&&(d=!1,a?c=M(n):c=n),c);f===void 0&&n!==void 0&&(p&&i&&hi(t),f=_(),p&&p(f));var y;if(i)y=()=>{var A=e[t];return A===void 0?_():(d=!0,m=!1,A)};else{var w=(o?xt:Sr)(()=>e[t]);w.f|=131072,y=()=>{var A=$(w);return A!==void 0&&(c=void 0),A===void 0?c:A}}if(!(r&4))return y;if(p){var R=e.$$legacy;return function(A,j){return arguments.length>0?((!i||!j||R||l)&&p(j?y():A),A):y()}}var T=!1,g=!1,x=it(f),b=xt(()=>{var A=y(),j=$(x);return T?(T=!1,g=!0,j):(g=!1,x.v=A)});return s&&$(b),o||(b.equals=Wt),function(A,j){if(wr!==null&&(T=g,y(),$(x)),arguments.length>0){let Q=j?$(b):i&&s?Te(A):A;if(!b.equals(Q)){if(T=!0,O(x,Q),m&&c!==void 0&&(c=Q),ys(b))return A;M(()=>$(b))}return A}return ys(b)?b.v:$(b)}}function ws(e){return new Yo(e)}var dt,Ue,Yo=class{constructor(t){U(this,dt,void 0);U(this,Ue,void 0);var i,s;var r=new Map,n=(a,l)=>{var f=it(l);return r.set(a,f),f};let o=new Proxy({...t.props||{},$$events:{}},{get(a,l){var f;return $((f=r.get(l))!=null?f:n(l,Reflect.get(a,l)))},has(a,l){var f;return l===xr?!0:($((f=r.get(l))!=null?f:n(l,Reflect.get(a,l))),Reflect.has(a,l))},set(a,l,f){var u;return O((u=r.get(l))!=null?u:n(l,f),f),Reflect.set(a,l,f)}});B(this,Ue,(t.hydrate?Eo:$t)(t.component,{target:t.target,anchor:t.anchor,props:o,context:t.context,intro:(i=t.intro)!=null?i:!1,recover:t.recover})),(!((s=t==null?void 0:t.props)!=null&&s.$$host)||t.sync===!1)&&Mr(),B(this,dt,o.$$events);for(let a of Object.keys(h(this,Ue)))a==="$set"||a==="$destroy"||a==="$on"||ne(this,a,{get(){return h(this,Ue)[a]},set(l){h(this,Ue)[a]=l},enumerable:!0});h(this,Ue).$set=a=>{Object.assign(o,a)},h(this,Ue).$destroy=()=>{qt(h(this,Ue))}}$set(t){h(this,Ue).$set(t)}$on(t,r){h(this,dt)[t]=h(this,dt)[t]||[];let n=(...o)=>r.call(this,...o);return h(this,dt)[t].push(n),()=>{h(this,dt)[t]=h(this,dt)[t].filter(o=>o!==n)}}$destroy(){h(this,Ue).$destroy()}};dt=new WeakMap,Ue=new WeakMap;var el;typeof HTMLElement=="function"&&(el=class extends HTMLElement{constructor(t,r,n){super();L(this,"$$ctor");L(this,"$$s");L(this,"$$c");L(this,"$$cn",!1);L(this,"$$d",{});L(this,"$$r",!1);L(this,"$$p_d",{});L(this,"$$l",{});L(this,"$$l_u",new Map);L(this,"$$me");this.$$ctor=t,this.$$s=r,n&&this.attachShadow({mode:"open"})}addEventListener(t,r,n){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(r),this.$$c){let o=this.$$c.$on(t,r);this.$$l_u.set(r,o)}super.addEventListener(t,r,n)}removeEventListener(t,r,n){if(super.removeEventListener(t,r,n),this.$$c){let o=this.$$l_u.get(r);o&&(o(),this.$$l_u.delete(r))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(o){return i=>{let s=document.createElement("slot");o!=="default"&&(s.name=o),F(i,s)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let r={},n=tl(this);for(let o of this.$$s)o in n&&(o==="default"&&!this.$$d.children?(this.$$d.children=t(o),r.default=!0):r[o]=t(o));for(let o of this.attributes){let i=this.$$g_p(o.name);i in this.$$d||(this.$$d[i]=jo(i,o.value,this.$$p_d,"toProp"))}for(let o in this.$$p_d)!(o in this.$$d)&&this[o]!==void 0&&(this.$$d[o]=this[o],delete this[o]);this.$$c=ws({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:r,$$host:this}}),this.$$me=un(()=>{de(()=>{var o;this.$$r=!0;for(let i of Gn(this.$$c)){if(!((o=this.$$p_d[i])!=null&&o.reflect))continue;this.$$d[i]=this.$$c[i];let s=jo(i,this.$$d[i],this.$$p_d,"toAttribute");s==null?this.removeAttribute(this.$$p_d[i].attribute||i):this.setAttribute(this.$$p_d[i].attribute||i,s)}this.$$r=!1})});for(let o in this.$$l)for(let i of this.$$l[o]){let s=this.$$c.$on(o,i);this.$$l_u.set(i,s)}this.$$l={}}}attributeChangedCallback(t,r,n){var o;this.$$r||(t=this.$$g_p(t),this.$$d[t]=jo(t,n,this.$$p_d,"toProp"),(o=this.$$c)==null||o.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(t){return Gn(this.$$p_d).find(r=>this.$$p_d[r].attribute===t||!this.$$p_d[r].attribute&&r.toLowerCase()===t)||t}});function jo(e,t,r,n){var i;let o=(i=r[e])==null?void 0:i.type;if(t=o==="Boolean"&&typeof t!="boolean"?t!=null:t,!n||!r[e])return t;if(n==="toAttribute")switch(o){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t==null?null:t;default:return t}else switch(o){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function tl(e){let t={};return e.childNodes.forEach(r=>{t[r.slot||"default"]=!0}),t}if(v){let e=function(t){if(!(t in globalThis)){let r;Object.defineProperty(globalThis,t,{configurable:!0,get:()=>{if(r!==void 0)return r;mi(t)},set:n=>{r=n}})}};e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}var $s="5";var Ss,Ts,As;typeof window!="undefined"&&((As=(Ts=(Ss=window.__svelte)!=null?Ss:window.__svelte={}).v)!=null?As:Ts.v=new Set).add($s);var nl=q('<select class="dropdown"><option>Desktop & Mobile</option><option>Desktop only</option><option>Mobile only</option></select>');function zr(e,t){ve(t,!0);let r=At(t,"value",15);var n=nl(),o=H(n),i={},s=P(o),a={},l=P(s),f={};V(n),W(()=>{var u,p,c;i!==(i="both")&&(o.value=(u=o.__value="both")!=null?u:""),a!==(a="computer")&&(s.value=(p=s.__value="computer")!=null?p:""),f!==(f="mobile")&&(l.value=(c=l.__value="mobile")!=null?c:"")}),Do(n,r),F(e,n),ge()}var _t=require("obsidian");function ke(e){return{onclick:t=>{t.currentTarget.hasAttribute("disabled")||e(t)},onkeydown:t=>{t.currentTarget.hasAttribute("disabled")||(t.key=="Enter"||t.key==" ")&&e(t)}}}var ol=q('<div class="setting-item-description"> </div>'),il=q('<div class="setting-item"><div class="setting-item-info"><div class="setting-item-name"> </div> <!></div> <div class="setting-item-control"><!></div></div>');function pr(e,t){var r=il(),n=H(r),o=H(n),i=H(o,!0);V(o);var s=P(o,2);{var a=u=>{var p=ol(),c=H(p,!0);V(p),W(()=>st(c,t.desc)),F(u,p)};pt(s,u=>{t.desc&&u(a)})}V(n);var l=P(n,2),f=H(l);Ao(f,()=>t.children),V(l),V(r),W(()=>st(i,t.name)),F(e,r)}var sl=e=>{e.key==" "&&(e.stopPropagation(),e.preventDefault())},al=q('<input type="text" placeholder="Name">'),ll=q("<h2> </h2>"),fl=q("<button></button>"),cl=q("<button></button>"),ul=q("<!> <button></button> <button></button> <!>",1),pl=q("<button></button> <button></button>",1),dl=q("<button></button>"),_l=q('<textarea placeholder="Patterns (glob)"></textarea>'),hl=q('<details><summary class="lm-name"><!></summary> <div class="lm-layout-setting"><div class="setting-item lm-setting-manage-container"><p>Manage</p> <div class="pad"></div> <div class="lm-setting-manage-buttons"><!> <!> <div class="lm-dividor"></div> <button></button></div></div> <!> <!></div></details>');function zo(e,t){ve(t,!0);let r=At(t,"option",15),n=oe(!1),o=oe(Te(r().name));var i=hl(),s=H(i);s.__keyup=[sl];var a=H(s);{var l=b=>{var I=al();Ht(I),Ut(I,()=>$(o),S=>O(o,S)),F(b,I)},f=b=>{var I=ll(),S=H(I,!0);V(I),W(()=>st(S,r().name)),F(b,I)};pt(a,b=>{$(n)?b(l):b(f,!1)})}V(s);var u=P(s,2),p=H(u),c=P(H(p),4),d=H(c);{var m=b=>{var I=ul(),S=rr(I);{var A=fe=>{var ce=fl();let Se;at(ce,(Lt,Yn)=>{var mr;return(mr=_t.setIcon)==null?void 0:mr(Lt,Yn)},()=>"chevrons-up"),W(Lt=>Se=Me(ce,Se,{...Lt,class:"mod-cta","aria-label":"Prioritize to top",disabled:t.currentI==0}),[()=>ke(()=>t.changeOrder(0))]),F(fe,ce)};pt(S,fe=>{t.size>2&&fe(A)})}var j=P(S,2);let Q;at(j,(fe,ce)=>{var Se;return(Se=_t.setIcon)==null?void 0:Se(fe,ce)},()=>"chevron-up");var Ne=P(j,2);let et;at(Ne,(fe,ce)=>{var Se;return(Se=_t.setIcon)==null?void 0:Se(fe,ce)},()=>"chevron-down");var De=P(Ne,2);{var Qr=fe=>{var ce=cl();let Se;at(ce,(Lt,Yn)=>{var mr;return(mr=_t.setIcon)==null?void 0:mr(Lt,Yn)},()=>"chevrons-down"),W(Lt=>Se=Me(ce,Se,{...Lt,class:"mod-cta","aria-label":"Deprioritize to bottom",disabled:t.currentI==t.size-1}),[()=>ke(()=>t.changeOrder(t.size-1))]),F(fe,ce)};pt(De,fe=>{t.size>2&&fe(Qr)})}W((fe,ce)=>{Q=Me(j,Q,{...fe,class:"mod-cta","aria-label":"Prioritize",disabled:t.currentI==0}),et=Me(Ne,et,{...ce,class:"mod-cta","aria-label":"Deprioritize",disabled:t.currentI==t.size-1})},[()=>ke(()=>t.changeOrder(t.currentI-1)),()=>ke(()=>t.changeOrder(t.currentI+1))]),F(b,I)};pt(d,b=>{t.size>1&&b(m)})}var _=P(d,2);{var y=b=>{var I=pl(),S=rr(I);let A;at(S,(Ne,et)=>{var De;return(De=_t.setIcon)==null?void 0:De(Ne,et)},()=>"check");var j=P(S,2);let Q;at(j,(Ne,et)=>{var De;return(De=_t.setIcon)==null?void 0:De(Ne,et)},()=>"x"),W((Ne,et,De)=>{A=Me(S,A,{...Ne,class:"mod-cta","aria-label":"Save",disabled:et}),Q=Me(j,Q,{...De,"aria-label":"Cancel"})},[()=>ke(()=>{O(n,!1),r(r().name=$(o).trim(),!0)}),()=>$(o).length===0||t.otherNames.contains($(o)),()=>ke(()=>{O(n,!1),O(o,r().name,!0)})]),F(b,I)},w=b=>{var I=dl();let S;at(I,(A,j)=>{var Q;return(Q=_t.setIcon)==null?void 0:Q(A,j)},()=>"pencil"),W(A=>S=Me(I,S,{...A,"aria-label":"Edit name"}),[()=>ke(()=>{O(n,!0),O(o,r().name,!0)})]),F(b,I)};pt(_,b=>{$(n)?b(y):b(w,!1)})}var R=P(_,4);let T;at(R,(b,I)=>{var S;return(S=_t.setIcon)==null?void 0:S(b,I)},()=>"trash-2"),V(c),V(p);var g=P(p,2);pr(g,{name:"Glob patterns",desc:"If a pattern matches, this layout will be used. Each line is a new pattern",children:(b,I)=>{var S=_l();Pr(S),Ut(S,()=>r().patterns,A=>r(r().patterns=A,!0)),F(b,S)},$$slots:{default:!0}});var x=P(g,2);pr(x,{name:"Platform mode",desc:"Restrict this layout to only certain platforms",children:(b,I)=>{zr(b,{get value(){return r().platformMode},set value(S){r(r().platformMode=S,!0)}})},$$slots:{default:!0}}),V(u),V(i),W(b=>T=Me(R,T,{...b,"aria-label":"Delete layout"}),[()=>ke(()=>t.deleteSelf())]),Vr("toggle",i,b=>{b.currentTarget.open||(O(n,!1),O(o,r().name,!0))}),F(e,i),ge()}Vt(["keyup"]);var On=require("obsidian");var ml=q('<form class="lm-new-layout-container"><input type="text" placeholder="Name"> <textarea placeholder="Paths (glob)"></textarea> <!> <button type="submit" class="mod-cta">Save</button></form>');function Wo(e,t){ve(t,!0);let r=oe(""),n=oe(""),o=oe(Te("both"));var i=ml(),s=H(i);Ht(s),Dr(s,!0);var a=P(s,2);Pr(a);var l=P(a,2);zr(l,{get value(){return $(o)},set value(u){O(o,u,!0)}});var f=P(l,2);V(i),W(u=>f.disabled=u,[()=>!$(r)||t.otherNames.contains($(r))]),Vr("submit",i,u=>{u.preventDefault(),u.stopPropagation(),t.onSubmit($(r).trim(),$(n).trim(),$(o))}),Ut(s,()=>$(r),u=>O(r,u)),Ut(a,()=>$(n),u=>O(n,u)),F(e,i),ge()}var vl=q('<div class="lm-modal-confirm"><p> </p> <button>Confirm</button> <button>Cancel</button></div>');function Go(e,t){ve(t,!0);var r=vl(),n=H(r),o=H(n,!0);V(n);var i=P(n,2);let s;var a=P(i,2);let l;V(r),W((f,u)=>{st(o,t.desc),s=Me(i,s,{...f,class:"mod-cta"}),l=Me(a,l,{...u})},[()=>ke(()=>t.onSubmit(!0)),()=>ke(()=>t.onSubmit(!1))]),F(e,r),ge()}var In=class extends On.Modal{constructor(r,n,o={}){super(r);this.cbFuncName="onSubmit";this.props={};this.inputProps={};this.callback=n,this.inputProps=o}onOpen(){this.setTitle(this.title),this.shouldRestoreSelection=!0,this.svelteContent=$t(this.component,{target:this.contentEl,props:{...this.props,...this.inputProps,[this.cbFuncName]:(...r)=>{this.callback(...r),this.close()}}})}async onClose(){qt(this.svelteContent,{outro:!0})}},Rn=class extends In{constructor(){super(...arguments);this.title="New layout";this.component=Wo}},Wr=class extends On.FuzzySuggestModal{constructor(r,n,o,i){super(r);this.settings=n,this.cb=i,this.setPlaceholder(o)}getItems(){return this.settings.layouts}getItemText({name:r}){return r}onChooseItem(r){this.cb(r)}},Ln=class extends In{constructor(){super(...arguments);this.title="Are you sure?";this.component=Go}};var gl=q('<div class="setting-item setting-item-heading setting-item-name"> </div>');function Mn(e,t){var r=gl(),n=H(r,!0);V(r),W(()=>st(n,t.title)),F(e,r)}var bl=q('<div><input type="checkbox" tabindex="0"></div>');function Ko(e,t){ve(t,!0);let r=At(t,"ontoggle",3,()=>{}),n=At(t,"checked",15,!1),o=ke(l=>{l.stopPropagation(),l.preventDefault(),n(!n()),r()(n())});var i=bl();let s;i.__click=function(...l){var f;(f=o.onclick)==null||f.apply(this,l)};var a=H(i);Ht(a),a.__keydown=function(...l){var f;(f=o.onkeydown)==null||f.apply(this,l)},V(i),W(l=>s=Hr(i,1,"checkbox-container",null,s,l),[()=>({"is-enabled":n()})]),Mo(a,n),F(e,i),ge()}Vt(["click","keydown"]);var xl=q('<!> <!> <!> <div class="lm-settings lm-layout-settings"></div>',1);function Zo(e,t){ve(t,!0);let[r,n]=Ho(),o=()=>qo(t.settings,"$settings",r),i=oo(()=>o().layouts.map(p=>p.name));var s=xl(),a=rr(s);Mn(a,{title:"Layout Agnostic"});var l=P(a,2);pr(l,{name:"Tab Icons",desc:"When enabled, will set an icon to indicate which tabs are part of the layout",children:(p,c)=>{Ko(p,{get checked(){return o().manageIcons},set checked(d){Nn(t.settings,M(o).manageIcons=d,M(o))}})},$$slots:{default:!0}});var f=P(l,2);Mn(f,{title:"Layout Management"});var u=P(f,2);To(u,7,()=>o().layouts,p=>p.name,(p,c,d)=>{zo(p,{get otherNames(){return $(i)},get currentI(){return $(d)},get size(){return o().layouts.length},changeOrder:m=>{o().layouts.splice($(d),1),o().layouts.splice(m,0,$(c)),Cn(t.settings,o())},deleteSelf:()=>{new Ln(t.app,m=>{m&&(o().layouts.splice($(d),1),Cn(t.settings,o()))},{desc:`This will delete the layout '${$(c).name}'`}).open()},get option(){return o().layouts[$(d)]},set option(m){Nn(t.settings,M(o).layouts[$(d)]=m,M(o))}})}),V(u),F(e,s),ge(),n()}var Xo={manageIcons:!0,layouts:[]},Dn=class extends Cs.PluginSettingTab{constructor(r,n){super(r,n);this.plugin=n}display(){this.containerEl.addClass("lm-settings");let r=Tn(this.plugin.settings);r.subscribe(n=>{this.plugin.curLayout.setManageIcons(n.manageIcons),this.plugin.curLayout.isActive()&&(this.plugin.settings.layouts.find(i=>i.name==this.plugin.curLayout.name)||this.plugin.curLayout.setNotActive()),this.plugin.settings=n,this.plugin.saveSettings()}),this.svelteContent=$t(Zo,{target:this.containerEl,props:{settings:r,app:this.app}})}hide(){qt(this.svelteContent,{outro:!0})}};var Js=ca(Hs(),1);var Kr=e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};var kl={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Zr=e=>e.replace(/[[\]\\-]/g,"\\$&"),Cl=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Us=e=>e.join(""),Ys=(e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],o=[],i=r+1,s=!1,a=!1,l=!1,f=!1,u=r,p="";e:for(;i<e.length;){let _=e.charAt(i);if((_==="!"||_==="^")&&i===r+1){f=!0,i++;continue}if(_==="]"&&s&&!l){u=i+1;break}if(s=!0,_==="\\"&&!l){l=!0,i++;continue}if(_==="["&&!l){for(let[y,[w,R,T]]of Object.entries(kl))if(e.startsWith(y,i)){if(p)return["$.",!1,e.length-r,!0];i+=y.length,T?o.push(w):n.push(w),a=a||R;continue e}}if(l=!1,p){_>p?n.push(Zr(p)+"-"+Zr(_)):_===p&&n.push(Zr(_)),p="",i++;continue}if(e.startsWith("-]",i+1)){n.push(Zr(_+"-")),i+=2;continue}if(e.startsWith("-",i+1)){p=_,i+=2;continue}n.push(Zr(_)),i++}if(u<i)return["",!1,0,!1];if(!n.length&&!o.length)return["$.",!1,e.length-r,!0];if(o.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!f){let _=n[0].length===2?n[0].slice(-1):n[0];return[Cl(_),!1,u-r,!1]}let c="["+(f?"^":"")+Us(n)+"]",d="["+(f?"":"^")+Us(o)+"]";return[n.length&&o.length?"("+c+"|"+d+")":n.length?c:d,a,u-r,!0]};var Ct=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");var Nl=new Set(["!","?","+","*","@"]),js=e=>Nl.has(e),Il="(?!(?:^|/)\\.\\.?(?:$|/))",Pn="(?!\\.)",Rl=new Set(["[","."]),Ll=new Set(["..","."]),Ol=new Set("().*{}+?[]^$\\!"),Ml=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ti="[^/]",zs=ti+"*?",Ws=ti+"+?",J,re,ht,Y,Z,Nt,Yt,It,lt,jt,Xr,Bn,Gs,dr,Fn,Jr,ei,Vn,Ks,Ce=class{constructor(t,r,n={}){U(this,Bn);U(this,Jr);L(this,"type");U(this,J,void 0);U(this,re,void 0);U(this,ht,!1);U(this,Y,[]);U(this,Z,void 0);U(this,Nt,void 0);U(this,Yt,void 0);U(this,It,!1);U(this,lt,void 0);U(this,jt,void 0);U(this,Xr,!1);this.type=t,t&&B(this,re,!0),B(this,Z,r),B(this,J,h(this,Z)?h(h(this,Z),J):this),B(this,lt,h(this,J)===this?n:h(h(this,J),lt)),B(this,Yt,h(this,J)===this?[]:h(h(this,J),Yt)),t==="!"&&!h(h(this,J),It)&&h(this,Yt).push(this),B(this,Nt,h(this,Z)?h(h(this,Z),Y).length:0)}get hasMagic(){if(h(this,re)!==void 0)return h(this,re);for(let t of h(this,Y))if(typeof t!="string"&&(t.type||t.hasMagic))return B(this,re,!0);return h(this,re)}toString(){return h(this,jt)!==void 0?h(this,jt):this.type?B(this,jt,this.type+"("+h(this,Y).map(t=>String(t)).join("|")+")"):B(this,jt,h(this,Y).map(t=>String(t)).join(""))}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof Ce&&h(r,Z)===this))throw new Error("invalid part: "+r);h(this,Y).push(r)}}toJSON(){var r;let t=this.type===null?h(this,Y).slice().map(n=>typeof n=="string"?n:n.toJSON()):[this.type,...h(this,Y).map(n=>n.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===h(this,J)||h(h(this,J),It)&&((r=h(this,Z))==null?void 0:r.type)==="!")&&t.push({}),t}isStart(){var r;if(h(this,J)===this)return!0;if(!((r=h(this,Z))!=null&&r.isStart()))return!1;if(h(this,Nt)===0)return!0;let t=h(this,Z);for(let n=0;n<h(this,Nt);n++){let o=h(t,Y)[n];if(!(o instanceof Ce&&o.type==="!"))return!1}return!0}isEnd(){var r,n,o;if(h(this,J)===this||((r=h(this,Z))==null?void 0:r.type)==="!")return!0;if(!((n=h(this,Z))!=null&&n.isEnd()))return!1;if(!this.type)return(o=h(this,Z))==null?void 0:o.isEnd();let t=h(this,Z)?h(h(this,Z),Y).length:0;return h(this,Nt)===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new Ce(this.type,t);for(let n of h(this,Y))r.copyIn(n);return r}static fromGlob(t,r={}){var o;let n=new Ce(null,void 0,r);return tt(o=Ce,dr,Fn).call(o,t,n,0,r),n}toMMPattern(){if(this!==h(this,J))return h(this,J).toMMPattern();let t=this.toString(),[r,n,o,i]=this.toRegExpSource();if(!(o||h(this,re)||h(this,lt).nocase&&!h(this,lt).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let a=(h(this,lt).nocase?"i":"")+(i?"u":"");return Object.assign(new RegExp(`^${r}$`,a),{_src:r,_glob:t})}get options(){return h(this,lt)}toRegExpSource(t){var l;let r=t!=null?t:!!h(this,lt).dot;if(h(this,J)===this&&tt(this,Bn,Gs).call(this),!this.type){let f=this.isStart()&&this.isEnd(),u=h(this,Y).map(m=>{var T;let[_,y,w,R]=typeof m=="string"?tt(T=Ce,Vn,Ks).call(T,m,h(this,re),f):m.toRegExpSource(t);return B(this,re,h(this,re)||w),B(this,ht,h(this,ht)||R),_}).join(""),p="";if(this.isStart()&&typeof h(this,Y)[0]=="string"&&!(h(this,Y).length===1&&Ll.has(h(this,Y)[0]))){let _=Rl,y=r&&_.has(u.charAt(0))||u.startsWith("\\.")&&_.has(u.charAt(2))||u.startsWith("\\.\\.")&&_.has(u.charAt(4)),w=!r&&!t&&_.has(u.charAt(0));p=y?Il:w?Pn:""}let c="";return this.isEnd()&&h(h(this,J),It)&&((l=h(this,Z))==null?void 0:l.type)==="!"&&(c="(?:$|\\/)"),[p+u+c,Ct(u),B(this,re,!!h(this,re)),h(this,ht)]}let n=this.type==="*"||this.type==="+",o=this.type==="!"?"(?:(?!(?:":"(?:",i=tt(this,Jr,ei).call(this,r);if(this.isStart()&&this.isEnd()&&!i&&this.type!=="!"){let f=this.toString();return B(this,Y,[f]),this.type=null,B(this,re,void 0),[f,Ct(this.toString()),!1,!1]}let s=!n||t||r||!Pn?"":tt(this,Jr,ei).call(this,!0);s===i&&(s=""),s&&(i=`(?:${i})(?:${s})*?`);let a="";if(this.type==="!"&&h(this,Xr))a=(this.isStart()&&!r?Pn:"")+Ws;else{let f=this.type==="!"?"))"+(this.isStart()&&!r&&!t?Pn:"")+zs+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&s?")":this.type==="*"&&s?")?":`)${this.type}`;a=o+i+f}return[a,Ct(i),B(this,re,!!h(this,re)),h(this,ht)]}},Rt=Ce;J=new WeakMap,re=new WeakMap,ht=new WeakMap,Y=new WeakMap,Z=new WeakMap,Nt=new WeakMap,Yt=new WeakMap,It=new WeakMap,lt=new WeakMap,jt=new WeakMap,Xr=new WeakMap,Bn=new WeakSet,Gs=function(){if(this!==h(this,J))throw new Error("should only call on root");if(h(this,It))return this;this.toString(),B(this,It,!0);let t;for(;t=h(this,Yt).pop();){if(t.type!=="!")continue;let r=t,n=h(r,Z);for(;n;){for(let o=h(r,Nt)+1;!n.type&&o<h(n,Y).length;o++)for(let i of h(t,Y)){if(typeof i=="string")throw new Error("string part in extglob AST??");i.copyIn(h(n,Y)[o])}r=n,n=h(r,Z)}}return this},dr=new WeakSet,Fn=function(t,r,n,o){var d,m;let i=!1,s=!1,a=-1,l=!1;if(r.type===null){let _=n,y="";for(;_<t.length;){let w=t.charAt(_++);if(i||w==="\\"){i=!i,y+=w;continue}if(s){_===a+1?(w==="^"||w==="!")&&(l=!0):w==="]"&&!(_===a+2&&l)&&(s=!1),y+=w;continue}else if(w==="["){s=!0,a=_,l=!1,y+=w;continue}if(!o.noext&&js(w)&&t.charAt(_)==="("){r.push(y),y="";let R=new Ce(w,r);_=tt(d=Ce,dr,Fn).call(d,t,R,_,o),r.push(R);continue}y+=w}return r.push(y),_}let f=n+1,u=new Ce(null,r),p=[],c="";for(;f<t.length;){let _=t.charAt(f++);if(i||_==="\\"){i=!i,c+=_;continue}if(s){f===a+1?(_==="^"||_==="!")&&(l=!0):_==="]"&&!(f===a+2&&l)&&(s=!1),c+=_;continue}else if(_==="["){s=!0,a=f,l=!1,c+=_;continue}if(js(_)&&t.charAt(f)==="("){u.push(c),c="";let y=new Ce(_,u);u.push(y),f=tt(m=Ce,dr,Fn).call(m,t,y,f,o);continue}if(_==="|"){u.push(c),c="",p.push(u),u=new Ce(null,r);continue}if(_===")")return c===""&&h(r,Y).length===0&&B(r,Xr,!0),u.push(c),c="",r.push(...p,u),f;c+=_}return r.type=null,B(r,re,void 0),B(r,Y,[t.substring(n-1)]),f},Jr=new WeakSet,ei=function(t){return h(this,Y).map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,o,i,s]=r.toRegExpSource(t);return B(this,ht,h(this,ht)||s),n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")},Vn=new WeakSet,Ks=function(t,r,n=!1){let o=!1,i="",s=!1;for(let a=0;a<t.length;a++){let l=t.charAt(a);if(o){o=!1,i+=(Ol.has(l)?"\\":"")+l;continue}if(l==="\\"){a===t.length-1?i+="\\\\":o=!0;continue}if(l==="["){let[f,u,p,c]=Ys(t,a);if(p){i+=f,s=s||u,a+=p-1,r=r||c;continue}}if(l==="*"){n&&t==="*"?i+=Ws:i+=zs,r=!0;continue}if(l==="?"){i+=ti,r=!0;continue}i+=Ml(l)}return[i,Ct(t),!!r,s]},U(Rt,dr),U(Rt,Vn);var ri=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&");var le=(e,t,r={})=>(Kr(t),!r.nocomment&&t.charAt(0)==="#"?!1:new _r(t,r).match(e)),Dl=/^\*+([^+@!?\*\[\(]*)$/,Pl=e=>t=>!t.startsWith(".")&&t.endsWith(e),Fl=e=>t=>t.endsWith(e),Bl=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),Vl=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),ql=/^\*+\.\*+$/,Hl=e=>!e.startsWith(".")&&e.includes("."),Ul=e=>e!=="."&&e!==".."&&e.includes("."),Yl=/^\.\*+$/,jl=e=>e!=="."&&e!==".."&&e.startsWith("."),zl=/^\*+$/,Wl=e=>e.length!==0&&!e.startsWith("."),Gl=e=>e.length!==0&&e!=="."&&e!=="..",Kl=/^\?+([^+@!?\*\[\(]*)?$/,Zl=([e,t=""])=>{let r=Qs([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},Xl=([e,t=""])=>{let r=ea([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},Jl=([e,t=""])=>{let r=ea([e]);return t?n=>r(n)&&n.endsWith(t):r},Ql=([e,t=""])=>{let r=Qs([e]);return t?n=>r(n)&&n.endsWith(t):r},Qs=([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},ea=([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},ta=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",Zs={win32:{sep:"\\"},posix:{sep:"/"}},ef=ta==="win32"?Zs.win32.sep:Zs.posix.sep;le.sep=ef;var je=Symbol("globstar **");le.GLOBSTAR=je;var tf="[^/]",rf=tf+"*?",nf="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",of="(?:(?!(?:\\/|^)\\.).)*?",sf=(e,t={})=>r=>le(r,e,t);le.filter=sf;var Ye=(e,t={})=>Object.assign({},e,t),af=e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return le;let t=le;return Object.assign((n,o,i={})=>t(n,o,Ye(e,i)),{Minimatch:class extends t.Minimatch{constructor(o,i={}){super(o,Ye(e,i))}static defaults(o){return t.defaults(Ye(e,o)).Minimatch}},AST:class extends t.AST{constructor(o,i,s={}){super(o,i,Ye(e,s))}static fromGlob(o,i={}){return t.AST.fromGlob(o,Ye(e,i))}},unescape:(n,o={})=>t.unescape(n,Ye(e,o)),escape:(n,o={})=>t.escape(n,Ye(e,o)),filter:(n,o={})=>t.filter(n,Ye(e,o)),defaults:n=>t.defaults(Ye(e,n)),makeRe:(n,o={})=>t.makeRe(n,Ye(e,o)),braceExpand:(n,o={})=>t.braceExpand(n,Ye(e,o)),match:(n,o,i={})=>t.match(n,o,Ye(e,i)),sep:t.sep,GLOBSTAR:je})};le.defaults=af;var ra=(e,t={})=>(Kr(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,Js.default)(e));le.braceExpand=ra;var lf=(e,t={})=>new _r(e,t).makeRe();le.makeRe=lf;var ff=(e,t,r={})=>{let n=new _r(t,r);return e=e.filter(o=>n.match(o)),n.options.nonull&&!e.length&&e.push(t),e};le.match=ff;var Xs=/[?*]|[+@!]\(.*?\)|\[|\]/,cf=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),_r=class{constructor(t,r={}){L(this,"options");L(this,"set");L(this,"pattern");L(this,"windowsPathsNoEscape");L(this,"nonegate");L(this,"negate");L(this,"comment");L(this,"empty");L(this,"preserveMultipleSlashes");L(this,"partial");L(this,"globSet");L(this,"globParts");L(this,"nocase");L(this,"isWindows");L(this,"platform");L(this,"windowsNoMagicRoot");L(this,"regexp");Kr(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||ta,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(i=>this.slashSplit(i));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let o=this.globParts.map((i,s,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let l=i[0]===""&&i[1]===""&&(i[2]==="?"||!Xs.test(i[2]))&&!Xs.test(i[3]),f=/^[a-z]:/i.test(i[0]);if(l)return[...i.slice(0,4),...i.slice(4).map(u=>this.parse(u))];if(f)return[i[0],...i.slice(1).map(u=>this.parse(u))]}return i.map(l=>this.parse(l))});if(this.debug(this.pattern,o),this.set=o.filter(i=>i.indexOf(!1)===-1),this.isWindows)for(let i=0;i<this.set.length;i++){let s=this.set[i];s[0]===""&&s[1]===""&&this.globParts[i][2]==="?"&&typeof s[3]=="string"&&/^[a-z]:$/i.test(s[3])&&(s[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let o=0;o<t[n].length;o++)t[n][o]==="**"&&(t[n][o]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let o=n;for(;r[o+1]==="**";)o++;o!==n&&r.splice(n,o-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,o)=>{let i=n[n.length-1];return o==="**"&&i==="**"?n:o===".."&&i&&i!==".."&&i!=="."&&i!=="**"?(n.pop(),n):(n.push(o),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let o=1;o<t.length-1;o++){let i=t[o];o===1&&i===""&&t[0]===""||(i==="."||i==="")&&(r=!0,t.splice(o,1),o--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let o=t[n-1];o&&o!=="."&&o!==".."&&o!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let o=-1;for(;(o=n.indexOf("**",o+1))!==-1;){let s=o;for(;n[s+1]==="**";)s++;s>o&&n.splice(o+1,s-o);let a=n[o+1],l=n[o+2],f=n[o+3];if(a!==".."||!l||l==="."||l===".."||!f||f==="."||f==="..")continue;r=!0,n.splice(o,1);let u=n.slice(0);u[o]="**",t.push(u),o--}if(!this.preserveMultipleSlashes){for(let s=1;s<n.length-1;s++){let a=n[s];s===1&&a===""&&n[0]===""||(a==="."||a==="")&&(r=!0,n.splice(s,1),s--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let i=0;for(;(i=n.indexOf("..",i+1))!==-1;){let s=n[i-1];if(s&&s!=="."&&s!==".."&&s!=="**"){r=!0;let l=i===1&&n[i+1]==="**"?["."]:[];n.splice(i-1,2,...l),n.length===0&&n.push(""),i-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let o=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);if(o){t[r]=[],t[n]=o;break}}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let o=0,i=0,s=[],a="";for(;o<t.length&&i<r.length;)if(t[o]===r[i])s.push(a==="b"?r[i]:t[o]),o++,i++;else if(n&&t[o]==="**"&&r[i]===t[o+1])s.push(t[o]),o++;else if(n&&r[i]==="**"&&t[o]===r[i+1])s.push(r[i]),i++;else if(t[o]==="*"&&r[i]&&(this.options.dot||!r[i].startsWith("."))&&r[i]!=="**"){if(a==="b")return!1;a="a",s.push(t[o]),o++,i++}else if(r[i]==="*"&&t[o]&&(this.options.dot||!t[o].startsWith("."))&&t[o]!=="**"){if(a==="a")return!1;a="b",s.push(r[i]),o++,i++}else return!1;return t.length===r.length&&s}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let o=0;o<t.length&&t.charAt(o)==="!";o++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let o=this.options;if(this.isWindows){let _=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),y=!_&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),w=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),R=!w&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),T=y?3:_?0:void 0,g=R?3:w?0:void 0;if(typeof T=="number"&&typeof g=="number"){let[x,b]=[t[T],r[g]];x.toLowerCase()===b.toLowerCase()&&(r[g]=x,g>T?r=r.slice(g):T>g&&(t=t.slice(T)))}}let{optimizationLevel:i=1}=this.options;i>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var s=0,a=0,l=t.length,f=r.length;s<l&&a<f;s++,a++){this.debug("matchOne loop");var u=r[a],p=t[s];if(this.debug(r,u,p),u===!1)return!1;if(u===je){this.debug("GLOBSTAR",[r,u,p]);var c=s,d=a+1;if(d===f){for(this.debug("** at the end");s<l;s++)if(t[s]==="."||t[s]===".."||!o.dot&&t[s].charAt(0)===".")return!1;return!0}for(;c<l;){var m=t[c];if(this.debug(`
globstar while`,t,c,r,d,m),this.matchOne(t.slice(c),r.slice(d),n))return this.debug("globstar found match!",c,l,m),!0;if(m==="."||m===".."||!o.dot&&m.charAt(0)==="."){this.debug("dot detected!",t,c,r,d);break}this.debug("globstar swallow a segment, and continue"),c++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,c,r,d),c===l))}let _;if(typeof u=="string"?(_=p===u,this.debug("string match",u,p,_)):(_=u.test(p),this.debug("pattern match",u,p,_)),!_)return!1}if(s===l&&a===f)return!0;if(s===l)return n;if(a===f)return s===l-1&&t[s]==="";throw new Error("wtf?")}braceExpand(){return ra(this.pattern,this.options)}parse(t){Kr(t);let r=this.options;if(t==="**")return je;if(t==="")return"";let n,o=null;(n=t.match(zl))?o=r.dot?Gl:Wl:(n=t.match(Dl))?o=(r.nocase?r.dot?Vl:Bl:r.dot?Fl:Pl)(n[1]):(n=t.match(Kl))?o=(r.nocase?r.dot?Xl:Zl:r.dot?Jl:Ql)(n):(n=t.match(ql))?o=r.dot?Ul:Hl:(n=t.match(Yl))&&(o=jl);let i=Rt.fromGlob(t,this.options).toMMPattern();return o&&typeof i=="object"&&Reflect.defineProperty(i,"test",{value:o}),i}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?rf:r.dot?nf:of,o=new Set(r.nocase?["i"]:[]),i=t.map(l=>{let f=l.map(u=>{if(u instanceof RegExp)for(let p of u.flags.split(""))o.add(p);return typeof u=="string"?cf(u):u===je?je:u._src});return f.forEach((u,p)=>{let c=f[p+1],d=f[p-1];u!==je||d===je||(d===void 0?c!==void 0&&c!==je?f[p+1]="(?:\\/|"+n+"\\/)?"+c:f[p]=n:c===void 0?f[p-1]=d+"(?:\\/|"+n+")?":c!==je&&(f[p-1]=d+"(?:\\/|\\/"+n+"\\/)"+c,f[p+1]=je))}),f.filter(u=>u!==je).join("/")}).join("|"),[s,a]=t.length>1?["(?:",")"]:["",""];i="^"+s+i+a+"$",this.negate&&(i="^(?!"+i+").+$");try{this.regexp=new RegExp(i,[...o].join(""))}catch(l){this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let o=this.slashSplit(t);this.debug(this.pattern,"split",o);let i=this.set;this.debug(this.pattern,"set",i);let s=o[o.length-1];if(!s)for(let a=o.length-2;!s&&a>=0;a--)s=o[a];for(let a=0;a<i.length;a++){let l=i[a],f=o;if(n.matchBase&&l.length===1&&(f=[s]),this.matchOne(f,l,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return le.defaults(t).Minimatch}};le.AST=Rt;le.Minimatch=_r;le.escape=ri;le.unescape=Ct;var hr=require("obsidian");var qn=Symbol("Icon before Layout Manager set it"),Hn=class{constructor(t,r){this.file="";this.name="";this.active=!1;this.leafTargetStates=new Map;this.leafState=new Map;this.app=t,this.shouldManageIcons=r}setAllIcons(t){!this.shouldManageIcons&&t||this.leafTargetStates.forEach((r,n)=>{this.manageOriginalIcon(n,t)})}manageOriginalIcon(t,r){let n=this.app.workspace.getLeafById(t);if(!n)return;n.tabHeaderInnerIconEl.toggleClass("lm-original",r);let o=r?"layout-dashboard":qn in n.view?n.view[qn]:"file";r?n.view[qn]=n.view.icon:delete n.view[qn],n.view.icon=o,(0,hr.setIcon)(n.tabHeaderInnerIconEl,o)}isLayoutIntegrityGood(t){for(let[r,n]of this.leafTargetStates)if(r in t&&t[r][1]!==n)return!1;return!0}async updateObsidianLayout(t,r){let n=new Map,o=zn(r.container,t,l=>{var f,u;(f=l.state.state)!=null&&f.file?n.set(l.id,(u=l.state.state)==null?void 0:u.file):n.set(l.id,"///View:"+l.state.type)});this.leafTargetStates=new Map(n.entries()),console.log("Leaf target state is updated",this.leafTargetStates);let i=this.app.workspace;i.layoutReady=!1;let s=await this.app.workspace.deserializeLayout(o,"root");if(s.containerEl.addClass("mod-root"),s.recomputeChildrenDimensions(),i.rootSplit=s,hr.Platform.isMobile?i.containerEl.children[1].replaceWith(s.containerEl):i.containerEl.children[2].replaceWith(s.containerEl),r.activeId){let l=i.getLeafById(r.activeId);l&&i.setActiveLeaf(l)}let a=[];return i.iterateRootLeaves(function(l){l.isVisible()&&a.push(l.loadIfDeferred())}),await Promise.all(a),i.layoutReady=!0,i.onLayoutChange(),i.requestActiveLeafEvents(),n}updateState(){let t=new Map;this.app.workspace.iterateRootLeaves(n=>{n&&(n.view instanceof hr.FileView?n.view.file&&t.set(n.id,n.view.file.path):t.set(n.id,"///View:"+n.view.getViewType()))});let r={};return t.forEach((n,o)=>{let i=this.leafState.get(o);i!=n&&(r[o]=[i,n])}),this.leafState.forEach((n,o)=>{r[o]||t.has(o)||(r[o]=[n,void 0])}),this.leafState=t,r}shouldUpdate(){let t=this.updateState(),r=!1;if(this.active&&!this.isLayoutIntegrityGood(t))r=!0;else if(this.setAllIcons(!0),!this.active&&Object.values(t).filter(n=>n[1]!==void 0).length===0)return null;for(let n in t){let o=t[n][1];if(o&&!(this.active&&!r&&(o==this.file||t[n][0]===void 0)))return o}return r&&this.setNotActive(),null}async update(t,r){this.leafState=await this.updateObsidianLayout(r,t),this.leafTargetStates=new Map(this.leafState.entries()),this.setAllIcons(!0),this.active=!0,this.file=r,this.name=t.name}isActive(){return this.active}setNotActive(){this.active=!1,this.setAllIcons(!1),this.leafTargetStates.clear()}setManageIcons(t){t!=this.shouldManageIcons&&(this.shouldManageIcons=t,this.active&&this.setAllIcons(t))}};var Un=class extends ze.Plugin{constructor(){super(...arguments);this.switching=!1;this.lastState=new Map}async onload(){await this.loadSettings(),this.curLayout=new Hn(this.app,this.settings.manageIcons),this.addCommand({id:"save-layout",name:"Save layout",checkCallback:this.layoutManagingCheckCmd(r=>{new Rn(this.app,(n,o,i)=>{this.settings.layouts.push({name:n,patterns:o.split(`
`).filter(s=>!!s).join(`
`),platformMode:i,...r}),this.saveSettings()},{otherNames:this.settings.layouts.map(n=>n.name)}).open()})}),this.addCommand({id:"override-layout",name:"Override layout",checkCallback:this.layoutManagingCheckCmd(r=>{new Wr(this.app,this.settings,"Override layout",n=>{Object.assign(n,r),this.saveSettings()}).open()})}),this.addCommand({id:"load-layout",name:"Load adhoc layout",checkCallback:r=>{let n=this.app.workspace.getActiveFile();if(!n)return!1;if(!r){let o=n.path;new Wr(this.app,this.settings,"Load layout",i=>{this.loadLayout(i,o)}).open()}return!0}}),this.register(()=>this.curLayout.setNotActive()),this.app.workspace.onLayoutReady(()=>{this.curLayout.shouldUpdate(),this.registerEvent(this.app.workspace.on("layout-change",()=>this.onStateChange()))}),this.addSettingTab(new Dn(this.app,this))}layoutManagingCheckCmd(r){return n=>{let o,i=this.app.workspace.getLeavesOfType("file");for(let s of i){if(!s||!(s.view instanceof ze.FileView)||!s.view.file)continue;let a=s.view.file.path;if(o){if(o==a)continue;return!1}o=a}if(!n){let s=this.getCurrentLayout();if(!s)return!1;r(s)}return!0}}onStateChange(){if(this.switching)return;let r=this.curLayout.shouldUpdate();if(!r)return;let n=this.findLayoutForPath(r);n&&(new ze.Notice(`Using ${n.name} layout!`),this.loadLayout(n,r))}findLayoutForPath(r){for(let n of this.settings.layouts)if(!(n.platformMode=="computer"&&!ze.Platform.isDesktop)&&!(n.platformMode=="mobile"&&!ze.Platform.isMobile)){for(let o of n.patterns.split(`
`))if(o&&le(r,o))return n}return null}async saveSettings(){return this.saveData(this.settings)}async loadSettings(){var n;let r=(n=await this.loadData())!=null?n:Xo;r&&Array.isArray(r)&&(r={layouts:r},this.saveData(r)),this.settings=Object.assign({},Xo,r)}getCurrentLayout(){let r=new Set,n=new Set,o=this.app.workspace.rootSplit.serialize(),i=Wn(o,r,n);if(r.size>1)return new ze.Notice("Can't save: multiple files found in layout"),null;let s=this.app.workspace.getActiveViewOfType(ze.MarkdownView);return{container:i,activeId:s?s.leaf.id:void 0,leafIds:Array.from(n)}}async loadLayout(r,n){this.switching=!0,this.curLayout.update(r,n),this.switching=!1}};

/* nosourcemap */